(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
var Info=function(t,e){var r=document.title,o=$(e.appendCredits);e.appendCredits&&$(".credits").append(o),e.title&&$("#info-title").text(e.title),e.subtitle&&$("#info-subtitle").text(e.subtitle),e.titleCss&&$("#info-title").css(e.titleCss),e.subtitleCss&&$("#info-subtitle").css(e.subtitleCss),e.arrowNextHref?($(".arrow-next").attr("href",e.arrowNextHref),$(".arrow-next").show()):$(".arrow-next").hide(),e.arrowPrevHref?($(".arrow-prev").attr("href",e.arrowPrevHref),$(".arrow-prev").show()):$(".arrow-prev").hide(),e.documentTitle&&(document.title=e.documentTitle),e.showArrowNext&&$(".arrow-next").show(),$("#info").show(),t.emitter.on("destroy",function(){document.title=r,$("#info-title").text(""),$("#info-subtitle").text(""),$("#info-title").attr("style",""),$("#info-subtitle").attr("style",""),$(".arrow-next").hide(),$("#info").hide(),o.remove()})};module.exports=Info;

},{}],2:[function(require,module,exports){
var Camera=function(e,i,t){var o=_.extend({fov:50,near:3,far:1e4,aspectRatio:window.innerWidth/window.innerHeight},e);this.object=new THREE.PerspectiveCamera(o.fov,o.aspect,o.near,o.far),this.object.position.x=_.isNumber(e.x)?e.x:0,this.object.position.y=_.isNumber(e.y)?e.y:0,this.object.position.z=_.isNumber(e.z)?e.z:500,i.add(this.object),t.on("resize",this.resize.bind(this))};module.exports=Camera,Camera.prototype={resize:function(){this.object.aspect=window.innerWidth/window.innerHeight,this.object.updateProjectionMatrix()}};

},{}],3:[function(require,module,exports){
var OrbitControls=require("../../vendor/OrbitControls"),Controls=function(t,o){this.poem=t,this.properties=o,this.controls=new OrbitControls(this.poem.camera.object,this.poem.canvas),_.extend(this.controls,o),this.poem.emitter.on("update",this.controls.update.bind(this.controls))};module.exports=Controls;

},{"../../vendor/OrbitControls":32}],4:[function(require,module,exports){
var TrackCameraLights=function(e,t){this.lights=[];var a=new THREE.AmbientLight(1118481,1,0);a.position.set(0,2e3,1e3);var i=(new THREE.PointLight(16777215,.3,0),new THREE.PointLight(16777215,1,0));i.position.set(3e3,2e3,5e3);var o=new THREE.PointLight(16777215,1,0);o.position.set(-1e3,-1e3,-1e3);var n=new THREE.PointLight(16777215,2,0);n.position.set(-700,500,-1e3),e.scene.add(a),e.camera.object.add(i),e.camera.object.add(o),e.camera.object.add(n)};module.exports=TrackCameraLights,TrackCameraLights.prototype={};

},{}],5:[function(require,module,exports){
(function (Buffer){(function (){
var InsertCss=require("insert-css"),internals={id:0,createElement:function(t,e){var l=document.createElement("div");return l.innerHTML=t,l.getElementsByClassName(e)[0]},template:_.template("<div class='poem-slider <%= className %>'>\n\t<label class='poem-slider-message' for='poem-slider-<%- id %>'><%= message %></label>\n\t<div class='poem-slider-input-wrapper'>\n\t\t<input\n\t\t\ttype='range'\n\t\t\tmin='<%- min %>'\n\t\t\tmax='<%- max %>'\n\t\t\tstep='<%- step %>'\n\t\t\tvalue='<%- value %>'\n\t\t\tclass='poem-slider-input'\n\t\t\tid='poem-slider-<%- id %>'\n\t\t/>\n\t</div>\n\t<div class='poem-slider-cta-wrapper'>\n\t\t<button class='poem-slider-cta'><%- callToAction %></button>\n\t</div>\n</div>"),attachCss:_.once(function(){InsertCss(Buffer("LnBvZW0tc2xpZGVyIHsKICAgIHRvcDogNTAlOwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbGVmdDogMTIuNSU7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB3aWR0aDogNzUlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwogICAgYm9yZGVyOiAxcHggc29saWQgIzQyNDI0MjsKICAgIHBhZGRpbmc6IDNlbTsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyNTI1MjU7CiAgICBib3gtc2hhZG93OiAycHggMnB4IDAgIzE4MTgxODsKICAgIGJvcmRlci1yYWRpdXM6IDAuMmVtOwp9Ci5wb2VtLXNsaWRlci1tZXNzYWdlIHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgY29sb3I6ICM3QjdCN0I7CiAgICBmb250LXNpemU6IDEuMmVtOwogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICAgIGZvbnQtd2VpZ2h0OiAzMDA7Cn0KLnBvZW0tc2xpZGVyLWlucHV0LXdyYXBwZXIgewogICAgbWFyZ2luOiAxZW07Cn0KLnBvZW0tc2xpZGVyLWN0YS13cmFwcGVyIHsKfQoucG9lbS1zbGlkZXItY3RhIHsKCWJhY2tncm91bmQ6IG5vbmU7Cglib3JkZXI6IG5vbmU7Cgl0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMjAwbXM7CgliYWNrZ3JvdW5kLWNvbG9yOiAjNDQ4Q0NDOwoJZm9udC1zaXplOiAxLjRlbTsKCWNvbG9yOiAjMjIyOwoJcGFkZGluZzogMC4zZW0gMWVtOwoJYm9yZGVyLXJhZGl1czogMC4yZW07Cglib3gtc2hhZG93OiAwLjJlbSAwLjJlbSAwLjdlbSByZ2JhKDAsIDAsIDAsIDAuNDMpOwoJcG9zaXRpb246IHJlbGF0aXZlOwoJcGFkZGluZy1yaWdodDogMS45ZW07CgljdXJzb3I6IHBvaW50ZXI7Cgl0cmFuc2Zvcm06IHNjYWxlKDEpOwp9Ci5wb2VtLXNsaWRlci1jdGE6aG92ZXIgewoJYmFja2dyb3VuZC1jb2xvcjogIzUyQTJFQTsKCXRyYW5zZm9ybTogc2NhbGUoMS4wMyk7Cn0KLnBvZW0tc2xpZGVyLWlucHV0LXdyYXBwZXIgewogICAgbWFyZ2luOiA1JTsKfQoucG9lbS1zbGlkZXItY3RhOmFmdGVyIHsKICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgY29udGVudDogIiI7CiAgICB3aWR0aDogMDsKCWhlaWdodDogMDsKCWJvcmRlci1zdHlsZTogc29saWQ7CiAgICBib3JkZXItd2lkdGg6IDAuNWVtIDAgMC41ZW0gMC42ZW07CiAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50ICMyMjI7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICByaWdodDogMC43ZW07CiAgICB0b3A6IDAuNDVlbTsKfQoucG9lbS1zbGlkZXItaW5wdXQgewogICAgd2lkdGg6IDEwMCU7Cn0KCkBtZWRpYSAobWF4LXdpZHRoOjcwMHB4KSB7CgkucG9lbS1zbGlkZXIgewoJICAgIHdpZHRoOiA5MCU7CgkgICAgbGVmdDogNSU7CgkgICAgZm9udC1zaXplOiAwLjllbTsKCX0KfQ==","base64"))}),handleSubmitFn:function(t,e,l){return function(){var n=Number(l.getElementsByClassName("poem-slider-input")[0].value);return t.callback(e,n),t.destroyOnSubmit&&internals.destroy(l),!1}},bootElement:function(t,e){internals.attachCss();var l=internals.template(_.extend({id:internals.id++},t)),n=internals.createElement(l,"poem-slider");n.getElementsByClassName("poem-slider-cta")[0].addEventListener("click",internals.handleSubmitFn(t,e,n),!1),t.targetEl.appendChild(n),e.emitter.on("destroy",_.partial(internals.destroy,n))},destroy:function(t){t&&t.parentElement&&t.parentElement.removeChild(t)}};module.exports=function(t,e){var l=_.extend({targetEl:document.body,message:"Adjust the Slider",className:"",min:1,max:10,step:1,value:5,callToAction:"Start",callback:function(){return!1}},e);return internals.bootElement(l,t),{}};

}).call(this)}).call(this,require("buffer").Buffer)

},{"buffer":41,"insert-css":50}],6:[function(require,module,exports){
var MrDoobStats=require("../../vendor/Stats"),Stats=function(t){this.poem=t,this.stats=new MrDoobStats,this.stats.domElement.style.position="absolute",this.stats.domElement.style.top="0px",$(this.poem.div).append(this.stats.domElement),this.poem.emitter.on("update",this.stats.update.bind(this.stats))};module.exports=Stats;

},{"../../vendor/Stats":33}],7:[function(require,module,exports){
var createManifestLoader=require("poem-manifests"),EventEmitter=require("events").EventEmitter,_emitter=new EventEmitter,_loader=null,init=function(e,t){_loader=createManifestLoader(t,{emitter:_emitter,getGraph:function(t,r){return e(t,_emitter)},globalManifest:{}}),_emitter.on("load",function(e){window.poem=e.graph})},load=function(e){return _loader.load(e)};module.exports={init:init,load:load,emitter:_emitter};

},{"events":40,"poem-manifests":97}],8:[function(require,module,exports){
var Camera=require("../components/cameras/Camera"),renderer=require("./renderer"),createLoop=require("poem-loop"),_ratio=_.isNumber(window.devicePixelRatio)?window.devicePixelRatio:1,createFog=function(e,r,o){var a=_.extend({color:2236962,nearFactor:.5,farFactor:2},r);e.fog=new THREE.Fog(a.color,o*a.nearFactor,o*a.farFactor)};module.exports=function(e,r){var o=_.extend({camera:null,fog:null,renderer:null},e.config),a=createLoop(),t=a.emitter,n=new THREE.Scene,c=new Camera(o.camera,n,t);return createFog(n,o.fog,c.object.position.z),renderer(o.renderer,n,c.object,t),r.once("load",a.start),r.on("unload",function(){a.stop(),t.emit("destroy")}),{emitter:t,canvas:$("canvas")[0],scene:n,ratio:_ratio,camera:c,$div:$("#container"),loop:a,start:a.start,stop:a.stop}};

},{"../components/cameras/Camera":2,"./renderer":9,"poem-loop":95}],9:[function(require,module,exports){
function addEffectsComposer(e){var r=new THREE.BloomPass(1.5,15,16,512),n=new THREE.ShaderPass(THREE.CopyShader),d=new THREE.ShaderPass(THREE.FXAAShader);new THREE.ShaderPass(chromaticAberrationShader);d.uniforms.resolution.value.set(1/(window.innerWidth*_ratio),1/(window.innerHeight*_ratio)),n.renderToScreen=!0;var i=new THREE.EffectComposer(_renderer);return i.renderTarget1.setSize(window.innerWidth*_ratio,window.innerHeight*_ratio),i.renderTarget2.setSize(window.innerWidth*_ratio,window.innerHeight*_ratio),i.addPass(e),i.addPass(d),i.addPass(r),i.addPass(n),i}function addSceneAndCameraToEffects(e,r){_rendererPass.scene=e,_rendererPass.camera=r}function addRenderer(){var e=new THREE.WebGLRenderer;return e.setPixelRatio(_ratio),e.setSize(window.innerWidth,window.innerHeight),document.getElementById("container").appendChild(e.domElement),e}function handleNewPoem(e,r,n,d){var i=_.extend({clearColor:2236962,useEffects:!1,useVR:!1},e);return _webGLRenderer.setClearColor(i.clearColor),i.useVR?(_renderer=new StereoEffect(_webGLRenderer),_renderer.separation=10):_renderer=_webGLRenderer,addSceneAndCameraToEffects(r,n),newResizeHandler(n),i.useEffects?(_webGLRenderer.autoClear=!1,d.on("draw",function(){_composer.render(r,n)})):(_webGLRenderer.autoClear=!0,d.on("draw",function(){_renderer.render(r,n)})),_renderer}require("../postprocessing"),require("../shaders/CopyShader"),require("../shaders/FilmShader"),require("../shaders/ConvolutionShader"),require("../shaders/FXAAShader");var chromaticAberrationShader=require("../postprocessing/ChromaticAberration"),StereoEffect=require("../vendor/StereoEffect"),_ratio=_.isNumber(window.devicePixelRatio)?window.devicePixelRatio:1,_webGLRenderer=addRenderer(),_renderer=_webGLRenderer,_rendererPass=new THREE.RenderPass,_composer=addEffectsComposer(_rendererPass),newResizeHandler=function(){var e,r=$(window);return function(n){var d=function(){_renderer.setSize(window.innerWidth,window.innerHeight),n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix()};e&&$(window).off("resize",e),r.on("resize",d),d(),e=d}}();module.exports=handleNewPoem;

},{"../postprocessing":23,"../postprocessing/ChromaticAberration":17,"../shaders/ConvolutionShader":24,"../shaders/CopyShader":25,"../shaders/FXAAShader":26,"../shaders/FilmShader":27,"../vendor/StereoEffect":34}],10:[function(require,module,exports){
var crossroads=require("crossroads"),hasher=require("hasher"),manifestToPoem=require("./manifestToPoem"),_baseUrl="/growth",_defaultLevel="1-seedling",routing={start:function(e,a){function o(e,a){crossroads.parse(e)}manifestToPoem.init(e,a),crossroads.addRoute("{name}",routing.loadUpALevel),crossroads.addRoute(/.*/,function(){hasher.replaceHash(_defaultLevel)}),crossroads.addRoute("/",function(){hasher.replaceHash(_defaultLevel)}),hasher.initialized.add(o),hasher.changed.add(o),hasher.init()},showMainTitles:function(){_gaq.push(["_trackPageview",_baseUrl]),manifestToPoem.load(_defaultLevel)},loadUpALevel:function(e){_gaq.push(["_trackPageview",_baseUrl+"/#"+e]),console.log(_baseUrl+"/#/"+e),manifestToPoem.load(e)||manifestToPoem.load(_defaultLevel)}};module.exports=routing;

},{"./manifestToPoem":7,"crossroads":43,"hasher":47}],11:[function(require,module,exports){
function handlers(e){var o;console.log("menu handlers"),manifestToPoem.emitter.on("load",function(e){o=e.graph}),e.emitter.on("close",function(){o&&o.start()}),e.emitter.on("open",function(){o&&o.stop()})}var poemMenu=require("poem-menu"),routing=require("./routing"),mute=require("../sound/mute"),manifestToPoem=require("./manifestToPoem");window.mute=mute,module.exports=function(e){handlers(poemMenu(e,{top:"Growth",bottom:mute.el}))};

},{"../sound/mute":28,"./manifestToPoem":7,"./routing":10,"poem-menu":99}],12:[function(require,module,exports){
function _createBones(e,n){for(var t=[],o=[],r=_.uniq(e.geometry.vertices,function(e){return""+e.x+e.y+e.z}),i=0;i<n.boneCount;i++){var a=new THREE.Bone,s=new THREE.Bone,c=_.random(0,r.length-1);a.position.copy(r[c]),s.position.copy(r[c]).normalize().multiplyScalar(n.radius/10),o.push(a),t.push(a),t.push(s),e.add(a),a.add(s),r.splice(c,1)}_calculateSkinWeights(e.geometry,o);var d=new THREE.Skeleton(t);return e.bind(d),d.calculateInverses(),e.normalizeSkinWeights(),t}function _calculateSkinWeights(e,n){_.each(e.vertices,function(t){var o=_.chain(n).map(function(e,n){return[e,t.distanceToSquared(e.position),n]}).sortBy(function(e){return e[1]}).take(4).map(function(e){return{bone:e[0],distance:e[1],index:e[2]}}).value();_.sum(_.pluck(o,"distance"));e.skinIndices.push(new THREE.Vector4(2*o[0].index,2*o[1].index,2*o[2].index,2*o[3].index)),e.skinWeights.push(new THREE.Vector4(.4,.3,.2,.1))})}function _calculateSkinWeights2(e,n){_.each(e.vertices,function(t){for(var o=[],r=[],i=0;i<n.length;i++){for(var a=n[i],s=t.distanceToSquared(a.position),c=0;c<4;c++)if(s<o[c]){var d,u=o[c];o[c]=s;r[c];for(r[c]=s,c++;c<4;c++)d=o[c],o[c]=u,u=d,prevMin=o[c],o[c]=nextMin,nextMin=prevMin;break}_.sum(o);e.skinIndices.push(new THREE.Vector4(2*r[0],2*r[1],2*r[2],2*r[3])),e.skinWeights.push(new THREE.Vector4(.4,.3,.2,.1))}})}function _createMesh(e,n){function t(e,t){var i=e[t],a=o.vertices[i],s=(n.radius+a.y)/(2*n.radius),c=(r+s*n.hueRange)%1,d=(new THREE.Color).setHSL(c,.5,.5);e.vertexColors.push(d)}for(var o=new THREE.IcosahedronGeometry(n.radius,n.subdivisions),r=Math.random(),i=0;i<o.faces.length;i++)t(o.faces[i],"a"),t(o.faces[i],"b"),t(o.faces[i],"c");o.colorsNeedUpdate=!0;var a=new THREE.MeshPhongMaterial({skinning:!0,emissive:0,color:16777215,wireframe:!0,vertexColors:THREE.VertexColors}),s=new THREE.SkinnedMesh;return s.geometry=o,s.material=a,e.scene.add(s),s}function _updateGrowthFn(e,n,t,o){var r,i,a;return function(s){o.distance*=t.distanceGrowth;for(var c=0;c<n.length;c++){var d=n[c];r=i=a=0;for(var u=e.nearest(d,t.neighborsCount),h=0;h<u.length;h++){var p=u[h][0],l=u[h][1];l<=o.distance&&(r+=(d.x-p.x)*l/o.distance,i+=(d.y-p.y)*l/o.distance,a+=(d.z-p.z)*l/o.distance)}u.length>0&&(r/=u.length,i/=u.length,a/=u.length,d.x+=t.moveSpeed*r,d.y+=t.moveSpeed*Math.max(0,i),d.z+=t.moveSpeed*a)}}}function _updateSmoothFn(e,n,t,o){var r=(new THREE.Vector3,new THREE.Vector3),i=new THREE.Vector3,a=new THREE.Vector3,s=new THREE.Vector3,c=new THREE.Vector3,d=new THREE.Vector3,u=new THREE.Vector3,h=new THREE.Vector3,p=new THREE.Plane;return function(){for(var o=0;o<e.length;o++){var l=e[o],m=n[o];r=m[0],i=m[1],a=m[2],s=m[3],d.subVectors(a,r).cross(c.subVectors(l,r)).normalize(),u.subVectors(s,i).cross(c.subVectors(l,i)).normalize(),h.addVectors(d,u).normalize(),p.setFromNormalAndCoplanarPoint(h,l);var v=p.distanceToPoint(r),E=p.distanceToPoint(i),f=p.distanceToPoint(a),g=p.distanceToPoint(s);m[0].x-=h.x*v*t.smoothSpeed,m[0].y-=h.y*v*t.smoothSpeed,m[0].z-=h.z*v*t.smoothSpeed,m[1].x-=h.x*E*t.smoothSpeed,m[1].y-=h.y*E*t.smoothSpeed,m[1].z-=h.z*E*t.smoothSpeed,m[2].x-=h.x*f*t.smoothSpeed,m[2].y-=h.y*f*t.smoothSpeed,m[2].z-=h.z*f*t.smoothSpeed,m[3].x-=h.x*g*t.smoothSpeed,m[3].y-=h.y*g*t.smoothSpeed,m[3].z-=h.z*g*t.smoothSpeed}}}function _distance(e,n){return n.distanceTo(e)}function _getBonePositions(e){var n=_.filter(e,function(e,n){return n%2==0});return _.pluck(n,"position")}function _addSkeletonHelper(e,n){var t=new THREE.SkeletonHelper(n);t.material.linewidth=2,t.material.opacity=.3,t.material.transparent=!0,e.scene.add(t),e.emitter.on("update",t.update.bind(t))}function _getBoneNeighbors(e,n){return _.map(e,function(e){var t=n.nearest(e,5),o=_.map(t,function(e){return e[0]});return _.filter(o,function(n){return n!==e})})}var KdTree=require("../../vendor/kd-tree/kdTree").kdTree,Ease=require("eases/elastic-out"),Lerp=require("lerp");module.exports=function(e,n){return function(t){var o=$("<div class='preload-message'>Digital spores are seeding the ether...</div>");$("#container").append(o);var r=_.extend({radius:10,neighborsCount:3,nearestDistance:10,distanceGrowth:1.001,moveSpeed:.1,rotationSpeed:1e-4,subdivisions:7,boneCount:400,thetaLength:.3*Math.PI,smoothSpeed:.005,hueRange:.2},n);r.subdivisions=Math.round(t*r.subdivisions),r.boneCount=Math.round(t*r.boneCount);var i={distance:r.nearestDistance};setTimeout(function(){var n=_createMesh(e,r),t=_createBones(n,r),a=_getBonePositions(t),s=new KdTree(a,_distance,["x","y","z"]),c=_getBoneNeighbors(a,s);_addSkeletonHelper(e,n),e.emitter.on("update",_updateGrowthFn(s,a,r,i)),e.emitter.on("update",_updateSmoothFn(a,c,r,i));var d=1;e.emitter.on("update",function(e){d+=e.dt;n.position.y=100+-50*Ease(Math.min(1,d/1e4)),n.rotation.y+=e.dt*r.rotationSpeed}),o.remove()},100)}};

},{"../../vendor/kd-tree/kdTree":35,"eases/elastic-out":44,"lerp":51}],13:[function(require,module,exports){
var Easing=require("../../utils/easing"),GenerateTreeMesh=require("./mesh"),Random=require("../../utils/random"),internals={addBaseSphere:function(e){var n=new THREE.SphereGeometry(100,40,5,0,2*Math.PI,0,.3*Math.PI),r=new THREE.MeshBasicMaterial({color:3355443,side:THREE.DoubleSide}),t=new THREE.Mesh(n,r);t.position.y=-99.5,poem.scene.add(t)},travelTreeFn:function(e,n){function r(e,n,o,i,s){o(e,n,i,s,t,a),t++;for(var d=0;d<n.children.length;d++)r(e,n.children[d],o,i+1,d)}var t=0,a=0;return r(void 0,e,function(e,n,r,t,o){a=Math.max(r,a)},0,0),function(a){t=0,r(a,e,n,0,0)}},seedRandomValuesToTree:function(e){internals.travelTreeFn(e,function(e,n,r,t,a,o){n.randomRotation=[Math.random(),Math.random(),Math.random()]})()},shrinkTree:function(e,n){internals.travelTreeFn(e,function(e,r,t,a,o,i){r.scale.multiplyScalar(n)})()},recursiveWriggleFn:function(e){return function(e,n,r,t,a,o){var i=r/o;n.rotation.z=i*Math.sin(n.randomRotation[0]*(e.elapsed+1e5)*5e-4),n.rotation.y=i*Math.sin(n.randomRotation[1]*(e.elapsed+2e5)*66e-6),n.rotation.x=i*Math.sin(n.randomRotation[2]*(e.elapsed+3e5)*2e-4)}},growTreeFn:function(e,n,r){return internals.travelTreeFn(e.children[0],function(e,t,a,o,i,s){var d=Math.floor(s/3),l=s-d,h=Math.min(l,Math.max(0,a-d)),u=h/(l+1),c=r*u,m=r-c,p=e.elapsed+t.randomRotation[0]*r/s,g=Math.min(n,Math.max(0,Easing.easeInOutCubic((p%(2*r)-c)/m)*n));g=.7*g+.3,t.scale.set(g,g,g)})},updateFn:function(e,n){var r=e.children[0];internals.seedRandomValuesToTree(r);var t=internals.growTreeFn(r,n.shrink,n.growthTime),a=internals.travelTreeFn(r,internals.recursiveWriggleFn(n.growthTime));return function(e){a(e),t(e)}},start:function(e,n,r){var t=$("<div class='preload-message'>Loading up some ones and zeros to grow...</div>");$("#container").append(t);var a=_.extend({},e,{depth:Math.floor(r/50),depthRemainder:r%50,depthSteps:50});console.log("Slider:",r),console.log("Depth:",a.depth),console.log("Depth Remainder:",a.depthRemainder),setTimeout(function(){var r=GenerateTreeMesh(a);n.scene.add(r),internals.countMeshChildren(r),internals.addBaseSphere(n.scene),n.emitter.on("update",internals.updateFn(r,e)),t.remove()},500)},countMeshChildren:function(e){function n(e){for(var r=e.children.length,t=0;t<e.children.length;t++)r+=n(e.children[t]);return r}console.log("Total mesh objects:",n(e))}};module.exports=function(e,n){var r=_.extend({autoStart:!0,height:50,radius:Random.range(2,10),rSegments:5,hSegments:4,depth:10,minBranch:1,maxBranch:3,shrink:Random.range(.7,.95),radiusShrink:Random.range(.7,.85),growthTime:1e4},n),t={start:_.partial(internals.start,r,e)};return r.autoStart&&internals.start(r,t,e,r.depth),t};

},{"../../utils/easing":30,"../../utils/random":31,"./mesh":14}],14:[function(require,module,exports){
var Random=require("../../utils/random"),internals={createRingObject:function(e,n,r,t){var s=2*Math.PI/r;return{create:function(t,a,i,o,c){for(var u=0;u<r;u++)e.vertices.push(new THREE.Vector3(Math.sin(u*s)*n*c,t,Math.cos(u*s)*n*c)),e.skinIndices.push(new THREE.Vector4(a,i,0,0)),e.skinWeights.push(new THREE.Vector4(1-o,o,0,0))},radius:n,segments:r}},tubeFn:function(e,n,r){function t(n,r,t,a,i){var o=new THREE.Face3(r,t,a),c=new THREE.Face3(i,a,t);o.color=(new THREE.Color).setHSL((s+.03*n)%1,.5,.5),c.color=(new THREE.Color).setHSL((s+.03*n)%1,.5,.5),e.faces.push(o),e.faces.push(c)}var s=Math.random();return function(s,a,i,o,c,u,m){var h,l,v,g,E,d,f=s/n,p=e.vertices.length;r.create(c+1*f,a,i,1/n,u);for(var H=0;H<r.segments;H++)h=p,d=(H+1)%r.segments,l=e.vertices.indexOf(o[H]),v=e.vertices.indexOf(o[d]),g=p+H,E=p+d,t(m+1/n,l,v,g,E);for(var R=2;R<=n;R++)for(r.create(c+R*f,a,i,R/n,u),H=0;H<r.segments;H++)h=p+(R-2)*r.segments,d=(H+1)%r.segments,l=h+H,v=h+d,g=h+H+r.segments,E=h+d+r.segments,t(m+R/n,l,v,g,E)}},recursiveTubes:function(e,n,r,t,s,a,i,o,c,u,m,h,l,v){if(s!==a){t.bones.push({parent:o,name:"segment",pos:[0,r,0],rotq:[0,0,0,1]});var g=t.bones.length-1;e(r,o,g,i,r*s,m,s);var E,d=t.vertices.slice(t.vertices.length-n.segments,t.vertices.length);E=s>3?Random.rangeInt(c,u):u,s+1===a&&(E=Math.random()>l/v?E:0);for(var f=0;f<E;f++)internals.recursiveTubes(e,n,r,t,s+1,a,d,g,c,u,m*h,h,l,v)}},generateGeometry:function(e){var n=new THREE.Geometry,r=internals.createRingObject(n,e.radius,e.rSegments,Math.random());r.create(0,-1,0,1,1);var t=n.vertices.slice(0,r.segments),s=internals.tubeFn(n,e.hSegments,r);return n.bones=[{parent:-1,name:"root",pos:[0,-e.height,0],rotq:[0,0,0,1]}],internals.recursiveTubes(s,r,e.height,n,0,e.depth,t,0,e.minBranch,e.maxBranch,1,e.radiusShrink,e.depthRemainder,e.depthSteps),n.computeFaceNormals(),n.computeVertexNormals(),n},createMesh:function(e,n){var r=new THREE.MeshPhongMaterial({skinning:!0,emissive:0,color:8947848,wireframe:!1,vertexColors:THREE.FaceColors});r.side=THREE.DoubleSide;var t=new THREE.SkinnedMesh(n,r,!0);return t.skeletonHelper=new THREE.SkeletonHelper(t),t.skeletonHelper.material.linewidth=3,t}};module.exports=function(e){var n=internals.generateGeometry(e);return internals.createMesh(e,n)};

},{"../../utils/random":31}],15:[function(require,module,exports){
require("./utils/ThreeConsole");var manifests=require("../manifests"),routing=require("./core/routing"),ui=require("./core/ui")(manifests);routing.start(require("./core/poem"),manifests);

},{"../manifests":38,"./core/poem":8,"./core/routing":10,"./core/ui":11,"./utils/ThreeConsole":29}],16:[function(require,module,exports){
THREE.BloomPass=function(e,r,o,n){e=void 0!==e?e:1,r=void 0!==r?r:25,o=void 0!==o?o:4,n=void 0!==n?n:256;var t={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat};this.renderTargetX=new THREE.WebGLRenderTarget(n,n,t),this.renderTargetY=new THREE.WebGLRenderTarget(n,n,t),void 0===THREE.CopyShader&&console.error("THREE.BloomPass relies on THREE.CopyShader");var i=THREE.CopyShader;this.copyUniforms=THREE.UniformsUtils.clone(i.uniforms),this.copyUniforms.opacity.value=e,this.materialCopy=new THREE.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,blending:THREE.AdditiveBlending,transparent:!0}),void 0===THREE.ConvolutionShader&&console.error("THREE.BloomPass relies on THREE.ConvolutionShader");var a=THREE.ConvolutionShader;this.convolutionUniforms=THREE.UniformsUtils.clone(a.uniforms),this.convolutionUniforms.uImageIncrement.value=THREE.BloomPass.blurx,this.convolutionUniforms.cKernel.value=THREE.ConvolutionShader.buildKernel(o),this.materialConvolution=new THREE.ShaderMaterial({uniforms:this.convolutionUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,defines:{KERNEL_SIZE_FLOAT:r.toFixed(1),KERNEL_SIZE_INT:r.toFixed(0)}}),this.enabled=!0,this.needsSwap=!1,this.clear=!1,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneGeometry(2,2),null),this.scene.add(this.quad)},THREE.BloomPass.prototype={render:function(e,r,o,n,t){t&&e.context.disable(e.context.STENCIL_TEST),this.quad.material=this.materialConvolution,this.convolutionUniforms.tDiffuse.value=o,this.convolutionUniforms.uImageIncrement.value=THREE.BloomPass.blurX,e.render(this.scene,this.camera,this.renderTargetX,!0),this.convolutionUniforms.tDiffuse.value=this.renderTargetX,this.convolutionUniforms.uImageIncrement.value=THREE.BloomPass.blurY,e.render(this.scene,this.camera,this.renderTargetY,!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetY,t&&e.context.enable(e.context.STENCIL_TEST),e.render(this.scene,this.camera,o,this.clear)}},THREE.BloomPass.blurX=new THREE.Vector2(.001953125,0),THREE.BloomPass.blurY=new THREE.Vector2(0,.001953125);

},{}],17:[function(require,module,exports){
var glslify=require("glslify"),createShader=require("three-glslify")(THREE),shader=createShader(require("glslify/simple-adapter.js")("\n#define GLSLIFY 1\n\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}","\n#define GLSLIFY 1\n\nhighp float a_x_random(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float dt = dot(co.xy, vec2(a, b));\n  highp float sn = mod(dt, 3.14);\n  return fract(sin(sn) * c);\n}\nuniform float opacity;\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\n  vec2 unitI_ToSide = (vUv * 2.0 - 1.0);\n  unitI_ToSide = pow(unitI_ToSide, vec2(3.0, 5.0)) * a_x_random(vUv) * -0.01;\n  vec4 texel = texture2D(tDiffuse, vUv);\n  vec4 smallshift = texture2D(tDiffuse, vUv + unitI_ToSide * 0.5);\n  vec4 bigshift = texture2D(tDiffuse, vUv + unitI_ToSide);\n  gl_FragColor = opacity * vec4(bigshift.x, texel.y, smallshift.z, texel.w);\n}",[{name:"opacity",type:"float"},{name:"tDiffuse",type:"sampler2D"}],[]));shader.uniforms.opacity.value=1,module.exports=shader;

},{"glslify":45,"glslify/simple-adapter.js":46,"three-glslify":104}],18:[function(require,module,exports){
THREE.EffectComposer=function(e,r){if(this.renderer=e,void 0===r){var t=window.innerWidth||1,i=window.innerHeight||1,s={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1};r=new THREE.WebGLRenderTarget(t,i,s)}this.renderTarget1=r,this.renderTarget2=r.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===THREE.CopyShader&&console.error("THREE.EffectComposer relies on THREE.CopyShader"),this.copyPass=new THREE.ShaderPass(THREE.CopyShader)},THREE.EffectComposer.prototype={swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e)},insertPass:function(e,r){this.passes.splice(r,0,e)},render:function(e){this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2;var r,t,i=!1,s=this.passes.length;for(t=0;t<s;t++)if(r=this.passes[t],r.enabled){if(r.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),r.needsSwap){if(i){var n=this.renderer.context;n.stencilFunc(n.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),n.stencilFunc(n.EQUAL,1,4294967295)}this.swapBuffers()}r instanceof THREE.MaskPass?i=!0:r instanceof THREE.ClearMaskPass&&(i=!1)}},reset:function(e){void 0===e&&(e=this.renderTarget1.clone(),e.width=window.innerWidth,e.height=window.innerHeight),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,r){var t=this.renderTarget1.clone();t.width=e,t.height=r,this.reset(t)}};

},{}],19:[function(require,module,exports){
THREE.FilmPass=function(e,i,s,r){void 0===THREE.FilmShader&&console.error("THREE.FilmPass relies on THREE.FilmShader");var n=THREE.FilmShader;this.uniforms=THREE.UniformsUtils.clone(n.uniforms),this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}),void 0!==r&&(this.uniforms.grayscale.value=r),void 0!==e&&(this.uniforms.nIntensity.value=e),void 0!==i&&(this.uniforms.sIntensity.value=i),void 0!==s&&(this.uniforms.sCount.value=s),this.enabled=!0,this.renderToScreen=!1,this.needsSwap=!0,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneGeometry(2,2),null),this.scene.add(this.quad)},THREE.FilmPass.prototype={render:function(e,i,s,r){this.uniforms.tDiffuse.value=s,this.uniforms.time.value+=r,this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,i,!1)}};

},{}],20:[function(require,module,exports){
THREE.MaskPass=function(e,s){this.scene=e,this.camera=s,this.enabled=!0,this.clear=!0,this.needsSwap=!1,this.inverse=!1},THREE.MaskPass.prototype={render:function(e,s,t,a){var n=e.context;n.colorMask(!1,!1,!1,!1),n.depthMask(!1);var i,r;this.inverse?(i=0,r=1):(i=1,r=0),n.enable(n.STENCIL_TEST),n.stencilOp(n.REPLACE,n.REPLACE,n.REPLACE),n.stencilFunc(n.ALWAYS,i,4294967295),n.clearStencil(r),e.render(this.scene,this.camera,t,this.clear),e.render(this.scene,this.camera,s,this.clear),n.colorMask(!0,!0,!0,!0),n.depthMask(!0),n.stencilFunc(n.EQUAL,1,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)}},THREE.ClearMaskPass=function(){this.enabled=!0},THREE.ClearMaskPass.prototype={render:function(e,s,t,a){var n=e.context;n.disable(n.STENCIL_TEST)}};

},{}],21:[function(require,module,exports){
THREE.RenderPass=function(e,r,l,a,o){this.scene=e,this.camera=r,this.overrideMaterial=l,this.clearColor=a,this.clearAlpha=void 0!==o?o:1,this.oldClearColor=new THREE.Color,this.oldClearAlpha=1,this.enabled=!0,this.clear=!0,this.needsSwap=!1},THREE.RenderPass.prototype={render:function(e,r,l,a){this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),e.render(this.scene,this.camera,l,this.clear),this.clearColor&&e.setClearColor(this.oldClearColor,this.oldClearAlpha),this.scene.overrideMaterial=null}};

},{}],22:[function(require,module,exports){
THREE.ShaderPass=function(e,r){this.textureID=void 0!==r?r:"tDiffuse",this.uniforms=THREE.UniformsUtils.clone(e.uniforms),this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader}),this.renderToScreen=!1,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneGeometry(2,2),null),this.scene.add(this.quad)},THREE.ShaderPass.prototype={render:function(e,r,t,s){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t),this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,r,this.clear)}};

},{}],23:[function(require,module,exports){
require("./EffectComposer"),require("./MaskPass"),require("./BloomPass"),require("./RenderPass"),require("./ShaderPass"),require("./FilmPass");

},{"./BloomPass":16,"./EffectComposer":18,"./FilmPass":19,"./MaskPass":20,"./RenderPass":21,"./ShaderPass":22}],24:[function(require,module,exports){
THREE.ConvolutionShader={defines:{KERNEL_SIZE_FLOAT:"25.0",KERNEL_SIZE_INT:"25"},uniforms:{tDiffuse:{type:"t",value:null},uImageIncrement:{type:"v2",value:new THREE.Vector2(.001953125,0)},cKernel:{type:"fv1",value:[]}},vertexShader:["uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","vUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float cKernel[ KERNEL_SIZE_INT ];","uniform sampler2D tDiffuse;","uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","vec2 imageCoord = vUv;","vec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );","for( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {","sum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];","imageCoord += uImageIncrement;","}","gl_FragColor = sum;","}"].join("\n"),buildKernel:function(e){var n,r,i,o,t=2*Math.ceil(3*e)+1;for(t>25&&(t=25),o=.5*(t-1),r=new Array(t),i=0,n=0;n<t;++n)r[n]=function(e,n){return Math.exp(-e*e/(2*n*n))}(n-o,e),i+=r[n];for(n=0;n<t;++n)r[n]/=i;return r}};

},{}],25:[function(require,module,exports){
THREE.CopyShader={uniforms:{tDiffuse:{type:"t",value:null},opacity:{type:"f",value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")};

},{}],26:[function(require,module,exports){
THREE.FXAAShader={uniforms:{tDiffuse:{type:"t",value:null},resolution:{type:"v2",value:new THREE.Vector2(1/1024,1/512)}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","#define FXAA_REDUCE_MIN   (1.0/128.0)","#define FXAA_REDUCE_MUL   (1.0/8.0)","#define FXAA_SPAN_MAX     8.0","void main() {","vec3 rgbNW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ).xyz;","vec3 rgbNE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ).xyz;","vec3 rgbSW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ).xyz;","vec3 rgbSE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ).xyz;","vec4 rgbaM  = texture2D( tDiffuse,  gl_FragCoord.xy  * resolution );","vec3 rgbM  = rgbaM.xyz;","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float lumaNW = dot( rgbNW, luma );","float lumaNE = dot( rgbNE, luma );","float lumaSW = dot( rgbSW, luma );","float lumaSE = dot( rgbSE, luma );","float lumaM  = dot( rgbM,  luma );","float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );","float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );","vec2 dir;","dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );","float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );","dir = min( vec2( FXAA_SPAN_MAX,  FXAA_SPAN_MAX),","max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),","dir * rcpDirMin)) * resolution;","vec4 rgbA = (1.0/2.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (1.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (2.0/3.0 - 0.5)));","vec4 rgbB = rgbA * (1.0/2.0) + (1.0/4.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (0.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (3.0/3.0 - 0.5)));","float lumaB = dot(rgbB, vec4(luma, 0.0));","if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) ) {","gl_FragColor = rgbA;","} else {","gl_FragColor = rgbB;","}","}"].join("\n")};

},{}],27:[function(require,module,exports){
THREE.FilmShader={uniforms:{tDiffuse:{type:"t",value:null},time:{type:"f",value:0},nIntensity:{type:"f",value:.5},sIntensity:{type:"f",value:.05},sCount:{type:"f",value:4096},grayscale:{type:"i",value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float time;","uniform bool grayscale;","uniform float nIntensity;","uniform float sIntensity;","uniform float sCount;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 cTextureScreen = texture2D( tDiffuse, vUv );","float x = vUv.x * vUv.y * time *  1000.0;","x = mod( x, 13.0 ) * mod( x, 123.0 );","float dx = mod( x, 0.01 );","vec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx * 100.0, 0.0, 1.0 );","vec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );","cResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;","cResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );","if( grayscale ) {","cResult = vec3( cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11 );","}","gl_FragColor =  vec4( cResult, cTextureScreen.a );","}"].join("\n")};

},{}],28:[function(require,module,exports){
var poemMute=require("poem-mute"),mute=poemMute();window.mutePrime=mute,window.mutePrimeEmitter=mute.emitter,module.exports=mute;

},{"poem-mute":100}],29:[function(require,module,exports){
function roundTo(o,n){return"number"==typeof n?Math.round(Math.pow(10,n)*o)/Math.pow(10,n):o}THREE.Console={vector:function(o,n){var e;e=o instanceof THREE.Vector2||o instanceof THREE.Vector3||o instanceof THREE.Vector4?[o]:o,console.table(_.map(e,function(o){return _.map(o.toArray(),function(o){return roundTo(o,n)})}))},face:function(o){var n;n=o instanceof THREE.Face3?[o]:o,console.table(_.map(n,function(o){return[o.a,o.b,o.c]}))},matrix:function(o,n){var e,t,r,c,a;for(a=[],t=0,c=o instanceof THREE.Matrix4?o.elements:o,e=0;e<c.length;e++)0===t&&a.push([]),r=roundTo(c[e],n),a[Math.floor(e/4)%4].push(r),t++,t%=4,e%16==15&&(console.table(a),a=[])}},window.consoleMatrix=THREE.Console.matrix,window.consoleVector=THREE.Console.vector,window.consoleFace=THREE.Console.face,module.exports=THREE.Console;

},{}],30:[function(require,module,exports){
module.exports={linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<.5?2*n*n:(4-2*n)*n-1},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};

},{}],31:[function(require,module,exports){
var random={flip:function(){return Math.random()>.5},range:function(n,r){return Math.random()*(r-n)+n},rangeInt:function(n,r){return Math.floor(this.range(n,r+1))},rangeLow:function(n,r){return Math.random()*Math.random()*(r-n)+n},rangeHigh:function(n,r){return(1-Math.random()*Math.random())*(r-n)+n}};module.exports=random;

},{}],32:[function(require,module,exports){
THREE.OrbitControls=function(t,e){function n(){return 2*Math.PI/60/60*E.autoRotateSpeed}function o(){return Math.pow(.95,E.zoomSpeed)}function i(t){if(!1!==E.enabled){if(t.preventDefault(),t.button===E.mouseButtons.ORBIT){if(!0===E.noRotate)return;V=x.ROTATE,m.set(t.clientX,t.clientY)}else if(t.button===E.mouseButtons.ZOOM){if(!0===E.noZoom)return;V=x.DOLLY,R.set(t.clientX,t.clientY)}else if(t.button===E.mouseButtons.PAN){if(!0===E.noPan)return;V=x.PAN,T.set(t.clientX,t.clientY)}V!==x.NONE&&(document.addEventListener("mousemove",a,!1),document.addEventListener("mouseup",s,!1),E.dispatchEvent(U))}}function a(t){if(!1!==E.enabled){t.preventDefault();var e=E.domElement===document?E.domElement.body:E.domElement;if(V===x.ROTATE){if(!0===E.noRotate)return;f.set(t.clientX,t.clientY),b.subVectors(f,m),E.rotateLeft(2*Math.PI*b.x/e.clientWidth*E.rotateSpeed),E.rotateUp(2*Math.PI*b.y/e.clientHeight*E.rotateSpeed),m.copy(f)}else if(V===x.DOLLY){if(!0===E.noZoom)return;H.set(t.clientX,t.clientY),M.subVectors(H,R),M.y>0?E.dollyIn():E.dollyOut(),R.copy(H)}else if(V===x.PAN){if(!0===E.noPan)return;O.set(t.clientX,t.clientY),y.subVectors(O,T),E.pan(y.x,y.y),T.copy(O)}V!==x.NONE&&E.update()}}function s(){!1!==E.enabled&&(document.removeEventListener("mousemove",a,!1),document.removeEventListener("mouseup",s,!1),E.dispatchEvent(Y),V=x.NONE)}function r(t){if(!1!==E.enabled&&!0!==E.noZoom&&V===x.NONE){t.preventDefault(),t.stopPropagation();var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),e>0?E.dollyOut():E.dollyIn(),E.update(),E.dispatchEvent(U),E.dispatchEvent(Y)}}function c(t){if(!1!==E.enabled&&!0!==E.noKeys&&!0!==E.noPan)switch(t.keyCode){case E.keys.UP:E.pan(0,E.keyPanSpeed),E.update();break;case E.keys.BOTTOM:E.pan(0,-E.keyPanSpeed),E.update();break;case E.keys.LEFT:E.pan(E.keyPanSpeed,0),E.update();break;case E.keys.RIGHT:E.pan(-E.keyPanSpeed,0),E.update()}}function h(t){if(!1!==E.enabled){switch(t.touches.length){case 1:if(!0===E.noRotate)return;V=x.TOUCH_ROTATE,m.set(t.touches[0].pageX,t.touches[0].pageY);break;case 2:if(!0===E.noZoom)return;V=x.TOUCH_DOLLY;var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,o=Math.sqrt(e*e+n*n);R.set(0,o);break;case 3:if(!0===E.noPan)return;V=x.TOUCH_PAN,T.set(t.touches[0].pageX,t.touches[0].pageY);break;default:V=x.NONE}V!==x.NONE&&E.dispatchEvent(U)}}function u(t){if(!1!==E.enabled){t.preventDefault(),t.stopPropagation();var e=E.domElement===document?E.domElement.body:E.domElement;switch(t.touches.length){case 1:if(!0===E.noRotate)return;if(V!==x.TOUCH_ROTATE)return;f.set(t.touches[0].pageX,t.touches[0].pageY),b.subVectors(f,m),E.rotateLeft(2*Math.PI*b.x/e.clientWidth*E.rotateSpeed),E.rotateUp(2*Math.PI*b.y/e.clientHeight*E.rotateSpeed),m.copy(f),E.update();break;case 2:if(!0===E.noZoom)return;if(V!==x.TOUCH_DOLLY)return;var n=t.touches[0].pageX-t.touches[1].pageX,o=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(n*n+o*o);H.set(0,i),M.subVectors(H,R),M.y>0?E.dollyOut():E.dollyIn(),R.copy(H),E.update();break;case 3:if(!0===E.noPan)return;if(V!==x.TOUCH_PAN)return;O.set(t.touches[0].pageX,t.touches[0].pageY),y.subVectors(O,T),E.pan(y.x,y.y),T.copy(O),E.update();break;default:V=x.NONE}}}function d(){!1!==E.enabled&&(E.dispatchEvent(Y),V=x.NONE)}this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new THREE.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT};var l,p,E=this,m=new THREE.Vector2,f=new THREE.Vector2,b=new THREE.Vector2,T=new THREE.Vector2,O=new THREE.Vector2,y=new THREE.Vector2,v=new THREE.Vector3,g=new THREE.Vector3,R=new THREE.Vector2,H=new THREE.Vector2,M=new THREE.Vector2,P=0,L=0,N=1,A=new THREE.Vector3,w=new THREE.Vector3,k=new THREE.Quaternion,x={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},V=x.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone();var j=(new THREE.Quaternion).setFromUnitVectors(t.up,new THREE.Vector3(0,1,0)),D=j.clone().inverse(),S={type:"change"},U={type:"start"},Y={type:"end"};this.rotateLeft=function(t){void 0===t&&(t=n()),L-=t},this.rotateUp=function(t){void 0===t&&(t=n()),P-=t},this.panLeft=function(t){var e=this.object.matrix.elements;v.set(e[0],e[1],e[2]),v.multiplyScalar(-t),A.add(v)},this.panUp=function(t){var e=this.object.matrix.elements;v.set(e[4],e[5],e[6]),v.multiplyScalar(t),A.add(v)},this.pan=function(t,e){var n=E.domElement===document?E.domElement.body:E.domElement;if(void 0!==E.object.fov){var o=E.object.position,i=o.clone().sub(E.target),a=i.length();a*=Math.tan(E.object.fov/2*Math.PI/180),E.panLeft(2*t*a/n.clientHeight),E.panUp(2*e*a/n.clientHeight)}else void 0!==E.object.top?(E.panLeft(t*(E.object.right-E.object.left)/n.clientWidth),E.panUp(e*(E.object.top-E.object.bottom)/n.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(t){void 0===t&&(t=o()),N/=t},this.dollyOut=function(t){void 0===t&&(t=o()),N*=t},this.update=function(){var t=this.object.position;g.copy(t).sub(this.target),g.applyQuaternion(j),l=Math.atan2(g.x,g.z),p=Math.atan2(Math.sqrt(g.x*g.x+g.z*g.z),g.y),this.autoRotate&&V===x.NONE&&this.rotateLeft(n()),l+=L,p+=P,l=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,l)),p=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,p)),p=Math.max(1e-6,Math.min(Math.PI-1e-6,p));var e=g.length()*N;e=Math.max(this.minDistance,Math.min(this.maxDistance,e)),this.target.add(A),g.x=e*Math.sin(p)*Math.sin(l),g.y=e*Math.cos(p),g.z=e*Math.sin(p)*Math.cos(l),g.applyQuaternion(D),t.copy(this.target).add(g),this.object.lookAt(this.target),L=0,P=0,N=1,A.set(0,0,0),(w.distanceToSquared(this.object.position)>1e-6||8*(1-k.dot(this.object.quaternion))>1e-6)&&(this.dispatchEvent(S),w.copy(this.object.position),k.copy(this.object.quaternion))},this.reset=function(){V=x.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.update()},this.getPolarAngle=function(){return p},this.getAzimuthalAngle=function(){return l},this.domElement.addEventListener("contextmenu",function(t){t.preventDefault()},!1),this.domElement.addEventListener("mousedown",i,!1),this.domElement.addEventListener("mousewheel",r,!1),this.domElement.addEventListener("DOMMouseScroll",r,!1),this.domElement.addEventListener("touchstart",h,!1),this.domElement.addEventListener("touchend",d,!1),this.domElement.addEventListener("touchmove",u,!1),window.addEventListener("keydown",c,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,module.exports=THREE.OrbitControls;

},{}],33:[function(require,module,exports){
var Stats=function(){var e=Date.now(),t=e,n=0,i=1/0,a=0,d=0,o=1/0,l=0,s=0,r=0,c=document.createElement("div");c.id="stats",c.addEventListener("mousedown",function(e){e.preventDefault(),g(++r%2)},!1),c.style.cssText="width:80px;opacity:0.9;cursor:pointer";var p=document.createElement("div");p.id="fps",p.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",c.appendChild(p);var h=document.createElement("div");h.id="fpsText",h.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",h.innerHTML="FPS",p.appendChild(h);var f=document.createElement("div");for(f.id="fpsGraph",f.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",p.appendChild(f);f.children.length<74;){var x=document.createElement("span");x.style.cssText="width:1px;height:30px;float:left;background-color:#113",f.appendChild(x)}var m=document.createElement("div");m.id="ms",m.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",c.appendChild(m);var u=document.createElement("div");u.id="msText",u.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",u.innerHTML="MS",m.appendChild(u);var v=document.createElement("div");for(v.id="msGraph",v.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",m.appendChild(v);v.children.length<74;){var y=document.createElement("span");y.style.cssText="width:1px;height:30px;float:left;background-color:#131",v.appendChild(y)}var g=function(e){switch(r=e){case 0:p.style.display="block",m.style.display="none";break;case 1:p.style.display="none",m.style.display="block"}},b=function(e,t){e.appendChild(e.firstChild).style.height=t+"px"};return{REVISION:12,domElement:c,setMode:g,begin:function(){e=Date.now()},end:function(){var r=Date.now();return n=r-e,i=Math.min(i,n),a=Math.max(a,n),u.textContent=n+" MS ("+i+"-"+a+")",b(v,Math.min(30,30-n/200*30)),s++,r>t+1e3&&(d=Math.round(1e3*s/(r-t)),o=Math.min(o,d),l=Math.max(l,d),h.textContent=d+" FPS ("+o+"-"+l+")",b(f,Math.min(30,30-d/100*30)),t=r,s=0),r},update:function(){e=this.end()}}};"object"==typeof module&&(module.exports=Stats);

},{}],34:[function(require,module,exports){
THREE.StereoEffect=function(e){this.separation=3;var t,r,a=new THREE.Vector3,o=new THREE.Quaternion,i=new THREE.Vector3,n=new THREE.PerspectiveCamera,p=new THREE.PerspectiveCamera;e.autoClear=!1,this.setSize=function(a,o){t=a/2,r=o,e.setSize(a,o)},this.render=function(s,c){s.updateMatrixWorld(),void 0===c.parent&&c.updateMatrixWorld(),c.matrixWorld.decompose(a,o,i),n.fov=c.fov,n.aspect=.5*c.aspect,n.near=c.near,n.far=c.far,n.updateProjectionMatrix(),n.position.copy(a),n.quaternion.copy(o),n.translateX(-this.separation),p.near=c.near,p.far=c.far,p.projectionMatrix=n.projectionMatrix,p.position.copy(a),p.quaternion.copy(o),p.translateX(this.separation),e.setViewport(0,0,2*t,r),e.clear(),e.setViewport(0,0,t,r),e.render(s,n),e.setViewport(t,0,t,r),e.render(s,p)}},module.exports=THREE.StereoEffect;

},{}],35:[function(require,module,exports){
!function(t,n){"function"==typeof define&&define.amd?define(["exports"],n):n("object"==typeof exports?exports:t.commonJsStrict={})}(module.exports,function(t){function n(t,n,o){this.obj=t,this.left=null,this.right=null,this.parent=o,this.dimension=n}function o(t,o,e){function r(t,o,i){var l,u,h=o%e.length;return 0===t.length?null:1===t.length?new n(t[0],h,i):(t.sort(function(t,n){return t[e[h]]-n[e[h]]}),l=Math.floor(t.length/2),u=new n(t[l],h,i),u.left=r(t.slice(0,l),o+1,u),u.right=r(t.slice(l+1),o+1,u),u)}var l=this;Array.isArray(t)?this.root=r(t,0,null):function(t){function n(t){t.left&&(t.left.parent=t,n(t.left)),t.right&&(t.right.parent=t,n(t.right))}l.root=t,n(l.root)}(t),this.toJSON=function(t){t||(t=this.root);var o=new n(t.obj,t.dimension,null);return t.left&&(o.left=l.toJSON(t.left)),t.right&&(o.right=l.toJSON(t.right)),o},this.insert=function(t){function o(n,i){if(null===n)return i;var r=e[n.dimension];return t[r]<n.obj[r]?o(n.left,n):o(n.right,n)}var i,r,l=o(this.root,null);if(null===l)return void(this.root=new n(t,0,null));i=new n(t,(l.dimension+1)%e.length,l),r=e[l.dimension],t[r]<l.obj[r]?l.left=i:l.right=i},this.remove=function(t){function n(o){if(null===o)return null;if(o.obj===t)return o;var i=e[o.dimension];return t[i]<o.obj[i]?n(o.left,o):n(o.right,o)}function o(t){function n(t,o){var i,r,l,u,h;return null===t?null:(i=e[o],t.dimension===o?null!==t.left?n(t.left,o):t:(r=t.obj[i],l=n(t.left,o),u=n(t.right,o),h=t,null!==l&&l.obj[i]<r&&(h=l),null!==u&&u.obj[i]<h.obj[i]&&(h=u),h))}var i,r,u;if(null===t.left&&null===t.right)return null===t.parent?void(l.root=null):(u=e[t.parent.dimension],void(t.obj[u]<t.parent.obj[u]?t.parent.left=null:t.parent.right=null));null!==t.right?(i=n(t.right,t.dimension),r=i.obj,o(i),t.obj=r):(i=n(t.left,t.dimension),r=i.obj,o(i),t.right=t.left,t.left=null,t.obj=r)}var i;null!==(i=n(l.root))&&o(i)},this.nearest=function(t,n,r){function u(i){function r(t,o){f.push([t,o]),f.size()>n&&f.pop()}var l,h,s,c,a=e[i.dimension],g=o(t,i.obj),p={};for(c=0;c<e.length;c+=1)c===i.dimension?p[e[c]]=t[e[c]]:p[e[c]]=i.obj[e[c]];if(h=o(p,i.obj),null===i.right&&null===i.left)return void((f.size()<n||g<f.peek()[1])&&r(i,g));l=null===i.right?i.left:null===i.left?i.right:t[a]<i.obj[a]?i.left:i.right,u(l),(f.size()<n||g<f.peek()[1])&&r(i,g),(f.size()<n||Math.abs(h)<f.peek()[1])&&null!==(s=l===i.left?i.right:i.left)&&u(s)}var h,s,f;if(f=new i(function(t){return-t[1]}),r)for(h=0;h<n;h+=1)f.push([null,r]);for(u(l.root),s=[],h=0;h<n;h+=1)f.content[h][0]&&s.push([f.content[h][0].obj,f.content[h][1]]);return s},this.balanceFactor=function(){function t(n){return null===n?0:Math.max(t(n.left),t(n.right))+1}function n(t){return null===t?0:n(t.left)+n(t.right)+1}return t(l.root)/(Math.log(n(l.root))/Math.log(2))}}function i(t){this.content=[],this.scoreFunction=t}i.prototype={push:function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},pop:function(){var t=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.sinkDown(0)),t},peek:function(){return this.content[0]},remove:function(t){for(var n=this.content.length,o=0;o<n;o++)if(this.content[o]==t){var i=this.content.pop();return void(o!=n-1&&(this.content[o]=i,this.scoreFunction(i)<this.scoreFunction(t)?this.bubbleUp(o):this.sinkDown(o)))}throw new Error("Node not found.")},size:function(){return this.content.length},bubbleUp:function(t){for(var n=this.content[t];t>0;){var o=Math.floor((t+1)/2)-1,i=this.content[o];if(!(this.scoreFunction(n)<this.scoreFunction(i)))break;this.content[o]=n,this.content[t]=i,t=o}},sinkDown:function(t){for(var n=this.content.length,o=this.content[t],i=this.scoreFunction(o);;){var e=2*(t+1),r=e-1,l=null;if(r<n){var u=this.content[r],h=this.scoreFunction(u);h<i&&(l=r)}if(e<n){var s=this.content[e];this.scoreFunction(s)<(null==l?i:h)&&(l=e)}if(null==l)break;this.content[t]=this.content[l],this.content[l]=o,t=l}}},this.kdTree=o,t.kdTree=o,t.BinaryHeap=i});

},{}],36:[function(require,module,exports){
module.exports={name:"Growth #1",description:"From seedling to tree",order:0,config:{camera:{z:-300,y:25},fog:{nearFactor:.8,farFactor:1.1}},components:{info:{construct:require("../js/components/Info"),properties:{documentTitle:"Growth #1: From Seedling To Tree | Greg Tatum",title:"Growth #1",subtitle:"From Seedling To Tree",subtitleCss:{"font-size":"1.29em"},arrowPrevHref:!1,arrowNextHref:"#/2-fungus"}},slider:{function:require("../js/components/slider"),properties:{message:"Adjust the Intensity",min:300,max:600,step:1,value:400,callToAction:"Start Growing",destroyOnSubmit:!0,callback:function(e,t){e.treeGrowth.start(t)}}},controls:{construct:require("../js/components/cameras/Controls"),properties:{target:new THREE.Vector3(0,110,0)}},treeGrowth:{function:require("../js/demos/treeGrowth"),properties:{autoStart:!1}},lights:{construct:require("../js/components/lights/TrackCameraLights")},stats:{construct:require("../js/components/utils/Stats")}}};

},{"../js/components/Info":1,"../js/components/cameras/Controls":3,"../js/components/lights/TrackCameraLights":4,"../js/components/slider":5,"../js/components/utils/Stats":6,"../js/demos/treeGrowth":13}],37:[function(require,module,exports){
module.exports={name:"Growth #2",description:"The fungal state",order:1,config:{camera:{z:-300,y:-100},fog:{nearFactor:.8,farFactor:1.1}},components:{info:{construct:require("../js/components/Info"),properties:{documentTitle:"Growth #2: The Fungal State | Greg Tatum",title:"Growth #2",subtitle:"The fungal state",subtitleCss:{"font-size":"1.36em","letter-spacing":"0.2em"},arrowPrevHref:"#/1-seedling",arrowNextHref:"http://gregtatum.com/category/interactive/"}},slider:{function:require("../js/components/slider"),properties:{message:"How hot do you want your device to get?",min:.1,max:1,step:.001,value:.5,callToAction:"Grow a Fungus",destroyOnSubmit:!0,callback:function(e,t){e.fungus(t)}}},controls:{construct:require("../js/components/cameras/Controls"),properties:{target:new THREE.Vector3(0,110,0)}},fungus:{function:require("../js/demos/fungus/fungus"),properties:{autoStart:!0}},lights:{construct:require("../js/components/lights/TrackCameraLights")}}};

},{"../js/components/Info":1,"../js/components/cameras/Controls":3,"../js/components/lights/TrackCameraLights":4,"../js/components/slider":5,"../js/demos/fungus/fungus":12}],38:[function(require,module,exports){
module.exports={"1-seedling":require("./1-seedling"),"2-fungus":require("./2-fungus")};

},{"./1-seedling":36,"./2-fungus":37}],39:[function(require,module,exports){
"use strict";function getLens(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=o.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function byteLength(o){var r=getLens(o),e=r[0],t=r[1];return 3*(e+t)/4-t}function _byteLength(o,r,e){return 3*(r+e)/4-e}function toByteArray(o){var r,e,t=getLens(o),n=t[0],u=t[1],p=new Arr(_byteLength(o,n,u)),a=0,h=u>0?n-4:n;for(e=0;e<h;e+=4)r=revLookup[o.charCodeAt(e)]<<18|revLookup[o.charCodeAt(e+1)]<<12|revLookup[o.charCodeAt(e+2)]<<6|revLookup[o.charCodeAt(e+3)],p[a++]=r>>16&255,p[a++]=r>>8&255,p[a++]=255&r;return 2===u&&(r=revLookup[o.charCodeAt(e)]<<2|revLookup[o.charCodeAt(e+1)]>>4,p[a++]=255&r),1===u&&(r=revLookup[o.charCodeAt(e)]<<10|revLookup[o.charCodeAt(e+1)]<<4|revLookup[o.charCodeAt(e+2)]>>2,p[a++]=r>>8&255,p[a++]=255&r),p}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,n=[],u=r;u<e;u+=3)t=(o[u]<<16&16711680)+(o[u+1]<<8&65280)+(255&o[u+2]),n.push(tripletToBase64(t));return n.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,n=[],u=0,p=e-t;u<p;u+=16383)n.push(encodeChunk(o,u,u+16383>p?p:u+16383));return 1===t?(r=o[e-1],n.push(lookup[r>>2]+lookup[r<<4&63]+"==")):2===t&&(r=(o[e-2]<<8)+o[e-1],n.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),n.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;

},{}],40:[function(require,module,exports){
function EventEmitter(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=objectCreate(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function $getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function emitNone(e,t,n){if(t)e.call(n);else for(var r=e.length,i=arrayClone(e,r),s=0;s<r;++s)i[s].call(n)}function emitOne(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,s=arrayClone(e,i),o=0;o<i;++o)s[o].call(n,r)}function emitTwo(e,t,n,r,i){if(t)e.call(n,r,i);else for(var s=e.length,o=arrayClone(e,s),a=0;a<s;++a)o[a].call(n,r,i)}function emitThree(e,t,n,r,i,s){if(t)e.call(n,r,i,s);else for(var o=e.length,a=arrayClone(e,o),l=0;l<o;++l)a[l].call(n,r,i,s)}function emitMany(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,s=arrayClone(e,i),o=0;o<i;++o)s[o].apply(n,r)}function _addListener(e,t,n,r){var i,s,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(s=e._events,s?(s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]):(s=e._events=objectCreate(null),e._eventsCount=0),o){if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=$getMaxListeners(e))&&i>0&&o.length>i){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",a.name,a.message)}}else o=s[t]=n,++e._eventsCount;return e}function onceWrapper(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function _onceWrap(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=bind.call(onceWrapper,r);return i.listener=n,r.wrapFn=i,i}function _listeners(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?unwrapListeners(i):arrayClone(i,i.length):[]}function listenerCount(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function spliceOne(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function arrayClone(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function unwrapListeners(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function objectCreatePolyfill(e){var t=function(){};return t.prototype=e,new t}function objectKeysPolyfill(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n}function functionBindPolyfill(e){var t=this;return function(){return t.apply(e,arguments)}}var objectCreate=Object.create||objectCreatePolyfill,objectKeys=Object.keys||objectKeysPolyfill,bind=Function.prototype.bind||functionBindPolyfill;module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10,hasDefineProperty;try{var o={};Object.defineProperty&&Object.defineProperty(o,"x",{value:0}),hasDefineProperty=0===o.x}catch(e){hasDefineProperty=!1}hasDefineProperty?Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if("number"!=typeof e||e<0||e!==e)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=e}}):EventEmitter.defaultMaxListeners=defaultMaxListeners,EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function(e){var t,n,r,i,s,o,a="error"===e;if(o=this._events)a=a&&null==o.error;else if(!a)return!1;if(a){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=o[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:emitNone(n,u,this);break;case 2:emitOne(n,u,this,arguments[1]);break;case 3:emitTwo(n,u,this,arguments[1],arguments[2]);break;case 4:emitThree(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),s=1;s<r;s++)i[s-1]=arguments[s];emitMany(n,u,this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,s,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=objectCreate(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():spliceOne(n,i),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,o||t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=objectCreate(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=objectCreate(null):delete n[e]),this;if(0===arguments.length){var i,s=objectKeys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=objectCreate(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};

},{}],41:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function createBuffer(e){if(e>K_MAX_LENGTH)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=Buffer.prototype,t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("string"==typeof e)return fromString(e,t);if(ArrayBuffer.isView(e))return fromArrayLike(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return Buffer.from(n,t,r);var f=fromObject(e);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|byteLength(e,t),n=createBuffer(r),f=n.write(e,t);return f!==r&&(n=n.slice(0,f)),n}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),n.__proto__=Buffer.prototype,n}function fromObject(e){if(Buffer.isBuffer(e)){var t=0|checked(e.length),r=createBuffer(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}return void 0!==e.length?"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e):"Buffer"===e.type&&Array.isArray(e.data)?fromArrayLike(e.data):void 0}function checked(e){if(e>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var f=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(f)return n?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),f=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,f){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,numberIsNaN(r)&&(r=f?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(f)return-1;r=e.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,f);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,f){function i(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,r/=2}var a;if(f){var h=-1;for(a=r;a<u;a++)if(i(e,a)===i(t,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===s)return h*o}else-1!==h&&(a-=a-h),h=-1}else for(r+s>u&&(r=u-s),a=r;a>=0;a--){for(var c=!0,l=0;l<s;l++)if(i(e,a+l)!==i(t,l)){c=!1;break}if(c)return a}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var f=e.length-r;n?(n=Number(n))>f&&(n=f):n=f;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(numberIsNaN(u))return o;e[r+o]=u}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?base64.fromByteArray(e):base64.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],f=t;f<r;){var i=e[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(f+u<=r){var s,a,h,c;switch(u){case 1:i<128&&(o=i);break;case 2:s=e[f+1],128==(192&s)&&(c=(31&i)<<6|63&s)>127&&(o=c);break;case 3:s=e[f+1],a=e[f+2],128==(192&s)&&128==(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:s=e[f+1],a=e[f+2],h=e[f+3],128==(192&s)&&128==(192&a)&&128==(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(127&e[f]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(e[f]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=t;i<r;++i)f+=toHex(e[i]);return f}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,f,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function checkIEEE754(e,t,r,n,f,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(e,t,r,n,52,8),r+8}function base64clean(e){if(e=e.split("=")[0],e=e.trim().replace(INVALID_BASE64_RE,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var r,n=e.length,f=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!f){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),f=r;continue}r=65536+(f-55296<<10|r-56320)}else f&&(t-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,f,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(e){return base64.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var f=0;f<n&&!(f+r>=t.length||f>=e.length);++f)t[f+r]=e[f];return f}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!==e}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(e,t,r){return alloc(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,f=0,i=Math.min(r,n);f<i;++f)if(e[f]!==t[f]){r=e[f],n=t[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),f=0;for(r=0;r<e.length;++r){var i=e[r];if(isInstance(i,Uint8Array)&&(i=Buffer.from(i)),!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=exports.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,f){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),t<0||r>e.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&t>=r)return 0;if(n>=f)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,f>>>=0,this===e)return 0;for(var i=f-n,o=r-t,u=Math.min(i,o),s=this.slice(n,f),a=e.slice(t,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=Buffer.prototype,n},Buffer.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n},Buffer.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],f=1;t>0&&(f*=256);)n+=this[e+--t]*f;return n},Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=t,f=1,i=this[e+--n];n>0&&(f*=256);)i+=this[e+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var f=1,i=0;for(this[t]=255&e;++i<r&&(f*=256);)this[t+i]=e/f&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var f=r-1,i=1;for(this[t+f]=255&e;--f>=0&&(i*=256);)this[t+f]=e/i&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=0,o=1,u=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var f=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=f-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return f},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var f=e.charCodeAt(0);("utf8"===n&&f<128||"latin1"===n)&&(e=f)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=Buffer.isBuffer(e)?e:Buffer.from(e,n),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;

}).call(this)}).call(this,require("buffer").Buffer)

},{"base64-js":39,"buffer":41,"ieee754":48}],42:[function(require,module,exports){
function ClassList(n){function t(n){var t=s();indexof(t,n)>-1||(t.push(n),f(t))}function r(n){var t=s(),r=indexof(t,n);-1!==r&&(t.splice(r,1),f(t))}function e(n){return indexof(s(),n)>-1}function i(n){return e(n)?(r(n),!1):(t(n),!0)}function u(){return n.className}function o(n){return s()[n]||null}function s(){return filter(n.className.split(" "),isTruthy)}function f(t){var r=t.length;n.className=t.join(" "),a.length=r;for(var e=0;e<t.length;e++)a[e]=t[e];delete t[r]}var l=n.classList;if(l)return l;var a={add:t,remove:r,contains:e,toggle:i,toString:u,length:0,item:o};return a}function filter(n,t){for(var r=[],e=0;e<n.length;e++)t(n[e])&&r.push(n[e]);return r}function isTruthy(n){return!!n}var indexof=require("indexof");module.exports=ClassList;

},{"indexof":49}],43:[function(require,module,exports){
!function(){var e=function(e){function t(e,t){if(e.indexOf)return e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return r;return-1}function r(e,r){var n=t(e,r);-1!==n&&e.splice(n,1)}function n(e,t){return"[object "+t+"]"===Object.prototype.toString.call(e)}function s(e){return n(e,"RegExp")}function i(e){return n(e,"Array")}function a(e){return"function"==typeof e}function o(e){return null===e||"null"===e?null:"true"===e||"false"!==e&&(e===f||"undefined"===e?f:""===e||isNaN(e)?e:parseFloat(e))}function u(e){for(var t=e.length,r=[];t--;)r[t]=o(e[t]);return r}function h(e,t){for(var r,n,s,a,u=(e||"").replace("?","").split("&"),h=-1,c={};n=u[++h];)r=n.indexOf("="),a=n.substring(0,r),s=decodeURIComponent(n.substring(r+1)),!1!==t&&(s=o(s)),a in c?i(c[a])?c[a].push(s):c[a]=[c[a],s]:c[a]=s;return c}function c(){this.bypassed=new e.Signal,this.routed=new e.Signal,this._routes=[],this._prevRoutes=[],this._piped=[],this.resetState()}function p(t,r,n,i){var a=s(t),o=i.patternLexer;this._router=i,this._pattern=t,this._paramsIds=a?null:o.getParamIds(t),this._optionalParamsIds=a?null:o.getOptionalParamsIds(t),this._matchRegexp=a?t:o.compilePattern(t,i.ignoreCase),this.matched=new e.Signal,this.switched=new e.Signal,r&&this.matched.add(r),this._priority=n||0}var d,l,f;return l=""===/t(.+)?/.exec("t")[1],c.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,resetState:function(){this._prevRoutes.length=0,this._prevMatchedRequest=null,this._prevBypassedRequest=null},create:function(){return new c},addRoute:function(e,t,r){var n=new p(e,t,r,this);return this._sortedInsert(n),n},removeRoute:function(e){r(this._routes,e),e._destroy()},removeAllRoutes:function(){for(var e=this.getNumRoutes();e--;)this._routes[e]._destroy();this._routes.length=0},parse:function(e,t){if(e=e||"",t=t||[],this.ignoreState||e!==this._prevMatchedRequest&&e!==this._prevBypassedRequest){var r,n=this._getMatchedRoutes(e),s=0,i=n.length;if(i)for(this._prevMatchedRequest=e,this._notifyPrevRoutes(n,e),this._prevRoutes=n;s<i;)r=n[s],r.route.matched.dispatch.apply(r.route.matched,t.concat(r.params)),r.isFirst=!s,this.routed.dispatch.apply(this.routed,t.concat([e,r])),s+=1;else this._prevBypassedRequest=e,this.bypassed.dispatch.apply(this.bypassed,t.concat([e]));this._pipeParse(e,t)}},_notifyPrevRoutes:function(e,t){for(var r,n=0;r=this._prevRoutes[n++];)r.route.switched&&this._didSwitch(r.route,e)&&r.route.switched.dispatch(t)},_didSwitch:function(e,t){for(var r,n=0;r=t[n++];)if(r.route===e)return!1;return!0},_pipeParse:function(e,t){for(var r,n=0;r=this._piped[n++];)r.parse(e,t)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(e){var t=this._routes,r=t.length;do{--r}while(t[r]&&e._priority<=t[r]._priority);t.splice(r+1,0,e)},_getMatchedRoutes:function(e){for(var t,r=[],n=this._routes,s=n.length;(t=n[--s])&&((!r.length||this.greedy||t.greedy)&&t.match(e)&&r.push({route:t,params:t._getParamsArray(e)}),this.greedyEnabled||!r.length););return r},pipe:function(e){this._piped.push(e)},unpipe:function(e){r(this._piped,e)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}},d=new c,d.VERSION="0.12.2",d.NORM_AS_ARRAY=function(e,t){return[t.vals_]},d.NORM_AS_OBJECT=function(e,t){return[t]},p.prototype={greedy:!1,rules:void 0,match:function(e){return e=e||"",this._matchRegexp.test(e)&&this._validateParams(e)},_validateParams:function(e){var t,r=this.rules,n=this._getParamsObject(e);for(t in r)if("normalize_"!==t&&r.hasOwnProperty(t)&&!this._isValidParam(e,t,n))return!1;return!0},_isValidParam:function(e,r,n){var o=this.rules[r],u=n[r],h=!1,c=0===r.indexOf("?");return null==u&&this._optionalParamsIds&&-1!==t(this._optionalParamsIds,r)?h=!0:s(o)?(c&&(u=n[r+"_"]),h=o.test(u)):i(o)?(c&&(u=n[r+"_"]),h=this._isValidArrayRule(o,u)):a(o)&&(h=o(u,e,n)),h},_isValidArrayRule:function(e,r){if(!this._router.ignoreCase)return-1!==t(e,r);"string"==typeof r&&(r=r.toLowerCase());for(var n,s=e.length;s--;)if(n=e[s],("string"==typeof n?n.toLowerCase():n)===r)return!0;return!1},_getParamsObject:function(e){for(var r,n,s=this._router.shouldTypecast,i=this._router.patternLexer.getParamValues(e,this._matchRegexp,s),a={},u=i.length;u--;)n=i[u],this._paramsIds&&(r=this._paramsIds[u],0===r.indexOf("?")&&n&&(a[r+"_"]=n,n=h(n,s),i[u]=n),l&&""===n&&-1!==t(this._optionalParamsIds,r)&&(n=void 0,i[u]=n),a[r]=n),a[u]=n;return a.request_=s?o(e):e,a.vals_=i,a},_getParamsArray:function(e){var t=this.rules?this.rules.normalize_:null;return t=t||this._router.normalizeFn,t&&a(t)?t(e,this._getParamsObject(e)):this._getParamsObject(e).vals_},interpolate:function(e){var t=this._router.patternLexer.interpolate(this._pattern,e);if(!this._validateParams(t))throw new Error("Generated string doesn't validate against `Route.rules`.");return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose(),this.switched.dispose(),this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}},c.prototype.patternLexer=function(){function e(e,t){var r,n=[];for(e.lastIndex=0;r=e.exec(t);)n.push(r[1]);return n}function t(t){return e(d,t)}function r(t){return e(l.OP.rgx,t)}function n(e,t){return e=e||"",e&&(v===f?e=e.replace(c,""):v===_&&(e=e.replace(p,"")),e=s(e,"rgx","save"),e=e.replace(h,"\\$&"),e=s(e,"rRestore","res"),v===f&&(e="\\/?"+e)),v!==g&&(e+="\\/?"),new RegExp("^"+e+"$",t?"i":"")}function s(e,t,r){var n,s;for(s in l)l.hasOwnProperty(s)&&(n=l[s],e=e.replace(n[t],n[r]));return e}function a(e,t,r){var n=t.exec(e);return n&&(n.shift(),r&&(n=u(n))),n}function o(e,t){if(t=t||{},"string"!=typeof e)throw new Error("Route pattern should be a string.");var r=function(e,r){var n;if(r="?"===r.substr(0,1)?r.substr(1):r,null!=t[r]){if("object"==typeof t[r]){var s,a=[];for(var o in t[r])if(s=t[r][o],i(s))for(var u in s)"[]"==o.slice(-2)?a.push(encodeURI(o.slice(0,-2))+"[]="+encodeURI(s[u])):a.push(encodeURI(o+"="+s[u]));else a.push(encodeURI(o+"="+s));n="?"+a.join("&")}else n=String(t[r]);if(-1===e.indexOf("*")&&-1!==n.indexOf("/"))throw new Error('Invalid value "'+n+'" for segment "'+e+'".')}else{if(-1!==e.indexOf("{"))throw new Error("The segment "+e+" is required.");n=""}return n};return l.OS.trail||(l.OS.trail=new RegExp("(?:"+l.OS.id+")+$")),e.replace(l.OS.rgx,l.OS.save).replace(d,r).replace(l.OS.trail,"").replace(l.OS.rRestore,"/")}var h=/[\\.+*?\^$\[\](){}\/'#]/g,c=/^\/|\/$/g,p=/\/$/g,d=/(?:\{|:)([^}:]+)(?:\}|:)/g,l={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},f=1,g=2,_=3,v=f;return function(){var e,t;for(e in l)l.hasOwnProperty(e)&&(t=l[e],t.id="__CR_"+e+"__",t.save="save"in t?t.save.replace("{{id}}",t.id):t.id,t.rRestore=new RegExp(t.id,"g"))}(),{strict:function(){v=g},loose:function(){v=f},legacy:function(){v=_},getParamIds:t,getOptionalParamsIds:r,getParamValues:a,compilePattern:n,interpolate:o}}(),d};"function"==typeof define&&define.amd?define(["signals"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("signals")):window.crossroads=e(window.signals)}();

},{"signals":103}],44:[function(require,module,exports){
function elasticOut(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}module.exports=elasticOut;

},{}],45:[function(require,module,exports){
function noop(){throw new Error("You should bundle your code using `glslify` as a transform.")}module.exports=noop;

},{}],46:[function(require,module,exports){
function programify(r,t,e,o){return{vertex:r,fragment:t,uniforms:e,attributes:o}}module.exports=programify;

},{}],47:[function(require,module,exports){
!function(){var e=function(e){return function(n){function t(e){return String(e||"").replace(/\W/g,"\\$&")}function a(e){if(!e)return"";var n=new RegExp("^"+t(l.prependHash)+"|"+t(l.appendHash)+"$","g");return e.replace(n,"")}function r(){var e=E.exec(l.getURL()),n=e&&e[1]||"";try{return l.raw?n:decodeURIComponent(n)}catch(e){return n}}function i(){return w?w.contentWindow.frameHash:null}function o(){w=H.createElement("iframe"),w.src="about:blank",w.style.display="none",H.body.appendChild(w)}function c(){if(w&&f!==i()){var e=w.contentWindow.document;e.open(),e.write("<html><head><title>"+H.title+'</title><script type="text/javascript">var frameHash="'+f+'";<\/script></head><body>&nbsp;</body></html>'),e.close()}}function s(e,n){if(f!==e){var t=f;f=e,U&&(n?w.contentWindow.frameHash=e:c()),l.changed.dispatch(a(e),a(t))}}function p(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,t)}function d(e,n,t){e.removeEventListener?e.removeEventListener(n,t,!1):e.detachEvent&&e.detachEvent("on"+n,t)}function u(e){e=Array.prototype.slice.call(arguments);var n=e.join(l.separator);return n=n?l.prependHash+n.replace(L,"")+l.appendHash:n}function h(e){return e=encodeURI(e),b&&x&&(e=e.replace(/\?/,"%3F")),e}var l,f,v,g,w,m,H=n.document,y=(n.history,e.Signal),E=/#(.*)$/,R=/(\?.*)|(\#.*)/,L=/^\#/,b=!1,I="onhashchange"in n&&7!==H.documentMode,U=b&&!I,x="file:"===location.protocol;return m=U?function(){var e=r(),n=i();n!==f&&n!==e?l.setHash(a(n)):e!==f&&s(e)}:function(){var e=r();e!==f&&s(e)},l={VERSION:"1.2.0",raw:!1,appendHash:"",prependHash:"/",separator:"/",changed:new y,stopped:new y,initialized:new y,init:function(){g||(f=r(),I?p(n,"hashchange",m):(U&&(w||o(),c()),v=setInterval(m,25)),g=!0,l.initialized.dispatch(a(f)))},stop:function(){g&&(I?d(n,"hashchange",m):(clearInterval(v),v=null),g=!1,l.stopped.dispatch(a(f)))},isActive:function(){return g},getURL:function(){return n.location.href},getBaseURL:function(){return l.getURL().replace(R,"")},setHash:function(e){(e=u.apply(null,arguments))!==f&&(s(e),e===f&&(l.raw||(e=h(e)),n.location.hash="#"+e))},replaceHash:function(e){(e=u.apply(null,arguments))!==f&&(s(e,!0),e===f&&(l.raw||(e=h(e)),n.location.replace("#"+e)))},getHash:function(){return a(f)},getHashAsArray:function(){return l.getHash().split(l.separator)},dispose:function(){l.stop(),l.initialized.dispose(),l.stopped.dispose(),l.changed.dispose(),w=l=n.hasher=null},toString:function(){return'[hasher version="'+l.VERSION+'" hash="'+l.getHash()+'"]'}},l.initialized.memorize=!0,l}(window)};"function"==typeof define&&define.amd?define(["signals"],e):"object"==typeof exports?module.exports=e(require("signals")):window.hasher=e(window.signals)}();

},{"signals":103}],48:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};

},{}],49:[function(require,module,exports){
var indexOf=[].indexOf;module.exports=function(e,n){if(indexOf)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1};

},{}],50:[function(require,module,exports){
var inserted={};module.exports=function(e,t){if(!inserted[e]){inserted[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var s=document.getElementsByTagName("head")[0];t&&t.prepend?s.insertBefore(n,s.childNodes[0]):s.appendChild(n)}};

},{}],51:[function(require,module,exports){
function lerp(e,r,l){return e*(1-l)+r*l}module.exports=lerp;

},{}],52:[function(require,module,exports){
(function (global){(function (){
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.localforage=e()}}(function(){return function e(n,t,r){function o(a,u){if(!t[a]){if(!n[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var s=t[a]={exports:{}};n[a][0].call(s.exports,function(e){var t=n[a][1][e];return o(t||e)},s,s.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){(function(e){"use strict";function t(){s=!0;for(var e,n,t=l.length;t;){for(n=l,l=[],e=-1;++e<t;)n[e]();t=l.length}s=!1}function r(e){1!==l.push(e)||s||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,u=new i(t),c=e.document.createTextNode("");u.observe(c,{characterData:!0}),o=function(){c.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(t,0)};else{var f=new e.MessageChannel;f.port1.onmessage=t,o=function(){f.port2.postMessage(0)}}var s,l=[];n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n,t){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,e!==r&&c(this,e)}function i(e,n,t){this.promise=e,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof t&&(this.onRejected=t,this.callRejected=this.otherCallRejected)}function a(e,n,t){h(function(){var r;try{r=n(t)}catch(n){return y.reject(e,n)}r===e?y.reject(e,new TypeError("Cannot resolve promise with itself")):y.resolve(e,r)})}function u(e){var n=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof n)return function(){n.apply(e,arguments)}}function c(e,n){function t(n){i||(i=!0,y.reject(e,n))}function r(n){i||(i=!0,y.resolve(e,n))}function o(){n(r,t)}var i=!1,a=f(o);"error"===a.status&&t(a.value)}function f(e,n){var t={};try{t.value=e(n),t.status="success"}catch(e){t.status="error",t.value=e}return t}function s(e){return e instanceof this?e:y.resolve(new this(r),e)}function l(e){var n=new this(r);return y.reject(n,e)}function d(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,o=!1;if(!t)return this.resolve([]);for(var i=new Array(t),a=0,u=-1,c=new this(r);++u<t;)!function(e,r){function u(e){i[r]=e,++a!==t||o||(o=!0,y.resolve(c,i))}n.resolve(e).then(u,function(e){o||(o=!0,y.reject(c,e))})}(e[u],u);return c}function v(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,o=!1;if(!t)return this.resolve([]);for(var i=-1,a=new this(r);++i<t;)!function(e){n.resolve(e).then(function(e){o||(o=!0,y.resolve(a,e))},function(e){o||(o=!0,y.reject(a,e))})}(e[i]);return a}var h=e(1),y={},p=["REJECTED"],b=["FULFILLED"],m=["PENDING"];n.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,n){if("function"!=typeof e&&this.state===b||"function"!=typeof n&&this.state===p)return this;var t=new this.constructor(r);if(this.state!==m){a(t,this.state===b?e:n,this.outcome)}else this.queue.push(new i(t,e,n));return t},i.prototype.callFulfilled=function(e){y.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){y.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},y.resolve=function(e,n){var t=f(u,n);if("error"===t.status)return y.reject(e,t.value);var r=t.value;if(r)c(e,r);else{e.state=b,e.outcome=n;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(n)}return e},y.reject=function(e,n){e.state=p,e.outcome=n;for(var t=-1,r=e.queue.length;++t<r;)e.queue[t].callRejected(n);return e},o.resolve=s,o.reject=l,o.all=d,o.race=v},{1:1}],3:[function(e,n,t){(function(n){"use strict";"function"!=typeof n.Promise&&(n.Promise=e(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(i){if("TypeError"!==i.name)throw i;for(var t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new t,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(n.type)}}function i(e,n){n&&e.then(function(e){n(null,e)},function(e){n(e)})}function a(e,n,t){"function"==typeof n&&e.then(n),"function"==typeof t&&e.catch(t)}function u(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function f(e){for(var n=e.length,t=new ArrayBuffer(n),r=new Uint8Array(t),o=0;o<n;o++)r[o]=e.charCodeAt(o);return t}function s(e){return new be(function(n){var t=e.transaction(me,Se),r=o([""]);t.objectStore(me).put(r,"key"),t.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)},t.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);n(t||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function l(e){return"boolean"==typeof ge?be.resolve(ge):s(e).then(function(e){return ge=e})}function d(e){var n=_e[e.name],t={};t.promise=new be(function(e,n){t.resolve=e,t.reject=n}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function v(e){var n=_e[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function h(e,n){var t=_e[e.name],r=t.deferredOperations.pop();if(r)return r.reject(n),r.promise}function y(e,n){return new be(function(t,r){if(_e[e.name]=_e[e.name]||N(),e.db){if(!n)return t(e.db);d(e),e.db.close()}var o=[e.name];n&&o.push(e.version);var i=pe.open.apply(pe,o);n&&(i.onupgradeneeded=function(n){var t=i.result;try{t.createObjectStore(e.storeName),n.oldVersion<=1&&t.createObjectStore(me)}catch(t){if("ConstraintError"!==t.name)throw t;console.warn('The database "'+e.name+'" has been upgraded from version '+n.oldVersion+" to version "+n.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),r(i.error)},i.onsuccess=function(){var n=i.result;n.onversionchange=function(e){e.target.close()},t(n),v(e)}})}function p(e){return y(e,!1)}function b(e){return y(e,!0)}function m(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==n&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||t){if(t){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function g(e){return new be(function(n,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");n({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function _(e){return o([f(atob(e.data))],{type:e.type})}function w(e){return e&&e.__local_forage_encoded_blob}function I(e){var n=this,t=n._initReady().then(function(){var e=_e[n._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return a(t,e,e),t}function S(e){d(e);for(var n=_e[e.name],t=n.forages,r=0;r<t.length;r++){var o=t[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,p(e).then(function(n){return e.db=n,m(e)?b(e):n}).then(function(r){e.db=n.db=r;for(var o=0;o<t.length;o++)t[o]._dbInfo.db=r}).catch(function(n){throw h(e,n),n})}function E(e,n,t,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,n);t(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return be.resolve().then(function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),b(e)}).then(function(){return S(e).then(function(){E(e,n,t,r-1)})}).catch(t);t(o)}}function N(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function j(e){function n(){return be.resolve()}var t=this,r={db:null};if(e)for(var o in e)r[o]=e[o];var i=_e[r.name];i||(i=N(),_e[r.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=I);for(var a=[],u=0;u<i.forages.length;u++){var c=i.forages[u];c!==t&&a.push(c._initReady().catch(n))}var f=i.forages.slice(0);return be.all(a).then(function(){return r.db=i.db,p(r)}).then(function(e){return r.db=e,m(r,t._defaultConfig.version)?b(r):e}).then(function(e){r.db=i.db=e,t._dbInfo=r;for(var n=0;n<f.length;n++){var o=f[n];o!==t&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}})}function R(e,n){var t=this;e=u(e);var r=new be(function(n,r){t.ready().then(function(){E(t._dbInfo,Ie,function(o,i){if(o)return r(o);try{var a=i.objectStore(t._dbInfo.storeName),u=a.get(e);u.onsuccess=function(){var e=u.result;void 0===e&&(e=null),w(e)&&(e=_(e)),n(e)},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return i(r,n),r}function A(e,n){var t=this,r=new be(function(n,r){t.ready().then(function(){E(t._dbInfo,Ie,function(o,i){if(o)return r(o);try{var a=i.objectStore(t._dbInfo.storeName),u=a.openCursor(),c=1;u.onsuccess=function(){var t=u.result;if(t){var r=t.value;w(r)&&(r=_(r));var o=e(r,t.key,c++);void 0!==o?n(o):t.continue()}else n()},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return i(r,n),r}function O(e,n,t){var r=this;e=u(e);var o=new be(function(t,o){var i;r.ready().then(function(){return i=r._dbInfo,"[object Blob]"===we.call(n)?l(i.db).then(function(e){return e?n:g(n)}):n}).then(function(n){E(r._dbInfo,Se,function(i,a){if(i)return o(i);try{var u=a.objectStore(r._dbInfo.storeName);null===n&&(n=void 0);var c=u.put(n,e);a.oncomplete=function(){void 0===n&&(n=null),t(n)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return i(o,t),o}function D(e,n){var t=this;e=u(e);var r=new be(function(n,r){t.ready().then(function(){E(t._dbInfo,Se,function(o,i){if(o)return r(o);try{var a=i.objectStore(t._dbInfo.storeName),u=a.delete(e);i.oncomplete=function(){n()},i.onerror=function(){r(u.error)},i.onabort=function(){var e=u.error?u.error:u.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return i(r,n),r}function x(e){var n=this,t=new be(function(e,t){n.ready().then(function(){E(n._dbInfo,Se,function(r,o){if(r)return t(r);try{var i=o.objectStore(n._dbInfo.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;t(e)}}catch(e){t(e)}})}).catch(t)});return i(t,e),t}function B(e){var n=this,t=new be(function(e,t){n.ready().then(function(){E(n._dbInfo,Ie,function(r,o){if(r)return t(r);try{var i=o.objectStore(n._dbInfo.storeName),a=i.count();a.onsuccess=function(){e(a.result)},a.onerror=function(){t(a.error)}}catch(e){t(e)}})}).catch(t)});return i(t,e),t}function k(e,n){var t=this,r=new be(function(n,r){if(e<0)return void n(null);t.ready().then(function(){E(t._dbInfo,Ie,function(o,i){if(o)return r(o);try{var a=i.objectStore(t._dbInfo.storeName),u=!1,c=a.openKeyCursor();c.onsuccess=function(){var t=c.result;if(!t)return void n(null);0===e?n(t.key):u?n(t.key):(u=!0,t.advance(e))},c.onerror=function(){r(c.error)}}catch(e){r(e)}})}).catch(r)});return i(r,n),r}function C(e){var n=this,t=new be(function(e,t){n.ready().then(function(){E(n._dbInfo,Ie,function(r,o){if(r)return t(r);try{var i=o.objectStore(n._dbInfo.storeName),a=i.openKeyCursor(),u=[];a.onsuccess=function(){var n=a.result;if(!n)return void e(u);u.push(n.key),n.continue()},a.onerror=function(){t(a.error)}}catch(e){t(e)}})}).catch(t)});return i(t,e),t}function T(e,n){n=c.apply(this,arguments);var t=this.config();e="function"!=typeof e&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var r,o=this;if(e.name){var a=e.name===t.name&&o._dbInfo.db,u=a?be.resolve(o._dbInfo.db):p(e).then(function(n){var t=_e[e.name],r=t.forages;t.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n;return n});r=e.storeName?u.then(function(n){if(n.objectStoreNames.contains(e.storeName)){var t=n.version+1;d(e);var r=_e[e.name],o=r.forages;n.close();for(var i=0;i<o.length;i++){var a=o[i];a._dbInfo.db=null,a._dbInfo.version=t}return new be(function(n,r){var o=pe.open(e.name,t);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),n(e)}}).then(function(e){r.db=e;for(var n=0;n<o.length;n++){var t=o[n];t._dbInfo.db=e,v(t._dbInfo)}}).catch(function(n){throw(h(e,n)||be.resolve()).catch(function(){}),n})}}):u.then(function(n){d(e);var t=_e[e.name],r=t.forages;n.close();for(var o=0;o<r.length;o++){r[o]._dbInfo.db=null}return new be(function(n,t){var r=pe.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),t(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),n(e)}}).then(function(e){t.db=e;for(var n=0;n<r.length;n++)v(r[n]._dbInfo)}).catch(function(n){throw(h(e,n)||be.resolve()).catch(function(){}),n})})}else r=be.reject("Invalid arguments");return i(r,n),r}function F(e){var n,t,r,o,i,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var f=new ArrayBuffer(a),s=new Uint8Array(f);for(n=0;n<u;n+=4)t=Ne.indexOf(e[n]),r=Ne.indexOf(e[n+1]),o=Ne.indexOf(e[n+2]),i=Ne.indexOf(e[n+3]),s[c++]=t<<2|r>>4,s[c++]=(15&r)<<4|o>>2,s[c++]=(3&o)<<6|63&i;return f}function L(e){var n,t=new Uint8Array(e),r="";for(n=0;n<t.length;n+=3)r+=Ne[t[n]>>2],r+=Ne[(3&t[n])<<4|t[n+1]>>4],r+=Ne[(15&t[n+1])<<2|t[n+2]>>6],r+=Ne[63&t[n+2]];return t.length%3==2?r=r.substring(0,r.length-1)+"=":t.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function M(e,n){var t="";if(e&&(t=Ue.call(e)),e&&("[object ArrayBuffer]"===t||e.buffer&&"[object ArrayBuffer]"===Ue.call(e.buffer))){var r,o=Ae;e instanceof ArrayBuffer?(r=e,o+=De):(r=e.buffer,"[object Int8Array]"===t?o+=Be:"[object Uint8Array]"===t?o+=ke:"[object Uint8ClampedArray]"===t?o+=Ce:"[object Int16Array]"===t?o+=Te:"[object Uint16Array]"===t?o+=Le:"[object Int32Array]"===t?o+=Fe:"[object Uint32Array]"===t?o+=Me:"[object Float32Array]"===t?o+=ze:"[object Float64Array]"===t?o+=Pe:n(new Error("Failed to get type for BinaryArray"))),n(o+L(r))}else if("[object Blob]"===t){var i=new FileReader;i.onload=function(){var t=je+e.type+"~"+L(this.result);n(Ae+xe+t)},i.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(t){console.error("Couldn't convert value into a JSON string: ",e),n(null,t)}}function z(e){if(e.substring(0,Oe)!==Ae)return JSON.parse(e);var n,t=e.substring(qe),r=e.substring(Oe,qe);if(r===xe&&Re.test(t)){var i=t.match(Re);n=i[1],t=t.substring(i[0].length)}var a=F(t);switch(r){case De:return a;case xe:return o([a],{type:n});case Be:return new Int8Array(a);case ke:return new Uint8Array(a);case Ce:return new Uint8ClampedArray(a);case Te:return new Int16Array(a);case Le:return new Uint16Array(a);case Fe:return new Int32Array(a);case Me:return new Uint32Array(a);case ze:return new Float32Array(a);case Pe:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}}function P(e,n,t,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,r)}function q(e){var n=this,t={db:null};if(e)for(var r in e)t[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new be(function(e,r){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(e){return r(e)}t.db.transaction(function(o){P(o,t,function(){n._dbInfo=t,e()},function(e,n){r(n)})},r)});return t.serializer=We,o}function U(e,n,t,r,o,i){e.executeSql(t,r,o,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(e,u){u.rows.length?i(e,a):P(e,n,function(){e.executeSql(t,r,o,i)},i)},i):i(e,a)},i)}function W(e,n){var t=this;e=u(e);var r=new be(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){U(t,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,t){var r=t.rows.length?t.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),n(r)},function(e,n){r(n)})})}).catch(r)});return i(r,n),r}function K(e,n){var t=this,r=new be(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){U(t,o,"SELECT * FROM "+o.storeName,[],function(t,r){for(var i=r.rows,a=i.length,u=0;u<a;u++){var c=i.item(u),f=c.value;if(f&&(f=o.serializer.deserialize(f)),void 0!==(f=e(f,c.key,u+1)))return void n(f)}n()},function(e,n){r(n)})})}).catch(r)});return i(r,n),r}function H(e,n,t,r){var o=this;e=u(e);var a=new be(function(i,a){o.ready().then(function(){void 0===n&&(n=null);var u=n,c=o._dbInfo;c.serializer.serialize(n,function(n,f){f?a(f):c.db.transaction(function(t){U(t,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){i(u)},function(e,n){a(n)})},function(n){if(n.code===n.QUOTA_ERR){if(r>0)return void i(H.apply(o,[e,u,t,r-1]));a(n)}})})}).catch(a)});return i(a,t),a}function Q(e,n,t){return H.apply(this,[e,n,t,1])}function X(e,n){var t=this;e=u(e);var r=new be(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){U(t,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){n()},function(e,n){r(n)})})}).catch(r)});return i(r,n),r}function G(e){var n=this,t=new be(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){U(n,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,n){t(n)})})}).catch(t)});return i(t,e),t}function J(e){var n=this,t=new be(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){U(n,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(n,t){var r=t.rows.item(0).c;e(r)},function(e,n){t(n)})})}).catch(t)});return i(t,e),t}function V(e,n){var t=this,r=new be(function(n,r){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(t){U(t,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,t){var r=t.rows.length?t.rows.item(0).key:null;n(r)},function(e,n){r(n)})})}).catch(r)});return i(r,n),r}function Y(e){var n=this,t=new be(function(e,t){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){U(n,r,"SELECT key FROM "+r.storeName,[],function(n,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o).key);e(r)},function(e,n){t(n)})})}).catch(t)});return i(t,e),t}function Z(e){return new be(function(n,t){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(t,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);n({db:e,storeNames:o})},function(e,n){t(n)})},function(e){t(e)})})}function $(e,n){n=c.apply(this,arguments);var t=this.config();e="function"!=typeof e&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var r,o=this;return r=e.name?new be(function(n){var r;r=e.name===t.name?o._dbInfo.db:openDatabase(e.name,"","",0),n(e.storeName?{db:r,storeNames:[e.storeName]}:Z(r))}).then(function(e){return new be(function(n,t){e.db.transaction(function(r){for(var o=[],i=0,a=e.storeNames.length;i<a;i++)o.push(function(e){return new be(function(n,t){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){n()},function(e,n){t(n)})})}(e.storeNames[i]));be.all(o).then(function(){n()}).catch(function(e){t(e)})},function(e){t(e)})})}):be.reject("Invalid arguments"),i(r,n),r}function ee(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function ne(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}function te(){return!ne()||localStorage.length>0}function re(e){var n=this,t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=ee(e,n._defaultConfig),te()?(n._dbInfo=t,t.serializer=We,be.resolve()):be.reject()}function oe(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}});return i(t,e),t}function ie(e,n){var t=this;e=u(e);var r=t.ready().then(function(){var n=t._dbInfo,r=localStorage.getItem(n.keyPrefix+e);return r&&(r=n.serializer.deserialize(r)),r});return i(r,n),r}function ae(e,n){var t=this,r=t.ready().then(function(){for(var n=t._dbInfo,r=n.keyPrefix,o=r.length,i=localStorage.length,a=1,u=0;u<i;u++){var c=localStorage.key(u);if(0===c.indexOf(r)){var f=localStorage.getItem(c);if(f&&(f=n.serializer.deserialize(f)),void 0!==(f=e(f,c.substring(o),a++)))return f}}});return i(r,n),r}function ue(e,n){var t=this,r=t.ready().then(function(){var n,r=t._dbInfo;try{n=localStorage.key(e)}catch(e){n=null}return n&&(n=n.substring(r.keyPrefix.length)),n});return i(r,n),r}function ce(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo,t=localStorage.length,r=[],o=0;o<t;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r});return i(t,e),t}function fe(e){var n=this,t=n.keys().then(function(e){return e.length});return i(t,e),t}function se(e,n){var t=this;e=u(e);var r=t.ready().then(function(){var n=t._dbInfo;localStorage.removeItem(n.keyPrefix+e)});return i(r,n),r}function le(e,n,t){var r=this;e=u(e);var o=r.ready().then(function(){void 0===n&&(n=null);var t=n;return new be(function(o,i){var a=r._dbInfo;a.serializer.serialize(n,function(n,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,n),o(t)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}})})});return i(o,t),o}function de(e,n){if(n=c.apply(this,arguments),e="function"!=typeof e&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var r,o=this;return r=e.name?new be(function(n){n(e.storeName?ee(e,o._defaultConfig):e.name+"/")}).then(function(e){for(var n=localStorage.length-1;n>=0;n--){var t=localStorage.key(n);0===t.indexOf(e)&&localStorage.removeItem(t)}}):be.reject("Invalid arguments"),i(r,n),r}function ve(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function he(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(Ge(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();"undefined"==typeof Promise&&e(3);var be=Promise,me="local-forage-detect-blob-support",ge=void 0,_e={},we=Object.prototype.toString,Ie="readonly",Se="readwrite",Ee={_driver:"asyncStorage",_initStorage:j,_support:function(){try{if(!pe||!pe.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:A,getItem:R,setItem:O,removeItem:D,clear:x,length:B,key:k,keys:C,dropInstance:T},Ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",je="~~local_forage_type~",Re=/^~~local_forage_type~([^~]+)~/,Ae="__lfsc__:",Oe=Ae.length,De="arbf",xe="blob",Be="si08",ke="ui08",Ce="uic8",Te="si16",Fe="si32",Le="ur16",Me="ui32",ze="fl32",Pe="fl64",qe=Oe+De.length,Ue=Object.prototype.toString,We={serialize:M,deserialize:z,stringToBuffer:F,bufferToString:L},Ke={_driver:"webSQLStorage",_initStorage:q,_support:function(){return"function"==typeof openDatabase}(),iterate:K,getItem:W,setItem:Q,removeItem:X,clear:G,length:J,key:V,keys:Y,dropInstance:$},He={_driver:"localStorageWrapper",_initStorage:re,_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:ae,getItem:ie,setItem:le,removeItem:se,clear:oe,length:fe,key:ue,keys:ce,dropInstance:de},Qe=function(e,n){return e===n||"number"==typeof e&&"number"==typeof n&&isNaN(e)&&isNaN(n)},Xe=function(e,n){for(var t=e.length,r=0;r<t;){if(Qe(e[r],n))return!0;r++}return!1},Ge=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Je={},Ve={},Ye={INDEXEDDB:Ee,WEBSQL:Ke,LOCALSTORAGE:He},Ze=[Ye.INDEXEDDB._driver,Ye.WEBSQL._driver,Ye.LOCALSTORAGE._driver],$e=["dropInstance"],en=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat($e),nn={description:"",driver:Ze.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},tn=function(){function e(n){r(this,e);for(var t in Ye)if(Ye.hasOwnProperty(t)){var o=Ye[t],i=o._driver;this[t]=i,Je[i]||this.defineDriver(o)}this._defaultConfig=he({},nn),this._config=he({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":ye(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var n in e){if("storeName"===n&&(e[n]=e[n].replace(/\W/g,"_")),"version"===n&&"number"!=typeof e[n])return new Error("Database version must be a number.");this._config[n]=e[n]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,n,t){var r=new be(function(n,t){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void t(o);for(var a=en.concat("_initStorage"),u=0,c=a.length;u<c;u++){var f=a[u];if((!Xe($e,f)||e[f])&&"function"!=typeof e[f])return void t(o)}!function(){for(var n=0,t=$e.length;n<t;n++){var r=$e[n];e[r]||(e[r]=function(e){return function(){var n=new Error("Method "+e+" is not implemented by the current driver"),t=be.reject(n);return i(t,arguments[arguments.length-1]),t}}(r))}}();var s=function(t){Je[r]&&console.info("Redefining LocalForage driver: "+r),Je[r]=e,Ve[r]=t,n()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(s,t):s(!!e._support):s(!0)}catch(e){t(e)}});return a(r,n,t),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,n,t){var r=Je[e]?be.resolve(Je[e]):be.reject(new Error("Driver not found."));return a(r,n,t),r},e.prototype.getSerializer=function(e){var n=be.resolve(We);return a(n,e),n},e.prototype.ready=function(e){var n=this,t=n._driverSet.then(function(){return null===n._ready&&(n._ready=n._initDriver()),n._ready});return a(t,e,e),t},e.prototype.setDriver=function(e,n,t){function r(){u._config.driver=u.driver()}function o(e){return u._extend(e),r(),u._ready=u._initStorage(u._config),u._ready}function i(e){return function(){function n(){for(;t<e.length;){var i=e[t];return t++,u._dbInfo=null,u._ready=null,u.getDriver(i).then(o).catch(n)}r();var a=new Error("No available storage method found.");return u._driverSet=be.reject(a),u._driverSet}var t=0;return n()}}var u=this;Ge(e)||(e=[e]);var c=this._getSupportedDrivers(e),f=null!==this._driverSet?this._driverSet.catch(function(){return be.resolve()}):be.resolve();return this._driverSet=f.then(function(){var e=c[0];return u._dbInfo=null,u._ready=null,u.getDriver(e).then(function(e){u._driver=e._driver,r(),u._wrapLibraryMethodsWithReady(),u._initDriver=i(c)})}).catch(function(){r();var e=new Error("No available storage method found.");return u._driverSet=be.reject(e),u._driverSet}),a(this._driverSet,n,t),this._driverSet},e.prototype.supports=function(e){return!!Ve[e]},e.prototype._extend=function(e){he(this,e)},e.prototype._getSupportedDrivers=function(e){for(var n=[],t=0,r=e.length;t<r;t++){var o=e[t];this.supports(o)&&n.push(o)}return n},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,n=en.length;e<n;e++)ve(this,en[e])},e.prototype.createInstance=function(n){return new e(n)},e}(),rn=new tn;n.exports=rn},{3:3}]},{},[4])(4)});

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],53:[function(require,module,exports){
function arrayEach(r,a){for(var e=-1,n=r.length;++e<n&&!1!==a(r[e],e,r););return r}module.exports=arrayEach;

},{}],54:[function(require,module,exports){
function arrayFilter(r,a){for(var e=-1,t=r.length,l=-1,n=[];++e<t;){var o=r[e];a(o,e,r)&&(n[++l]=o)}return n}module.exports=arrayFilter;

},{}],55:[function(require,module,exports){
function arrayMap(r,a){for(var e=-1,n=r.length,o=Array(n);++e<n;)o[e]=a(r[e],e,r);return o}module.exports=arrayMap;

},{}],56:[function(require,module,exports){
function baseAssign(e,s){return null==s?e:baseCopy(s,keys(s),e)}var baseCopy=require("lodash._basecopy"),keys=require("lodash.keys");module.exports=baseAssign;

},{"lodash._basecopy":59,"lodash.keys":84}],57:[function(require,module,exports){
function baseToString(r){return null==r?"":r+""}function baseCallback(r,e,t){var n=typeof r;return"function"==n?void 0===e?r:bindCallback(r,e,t):null==r?identity:"object"==n?baseMatches(r):void 0===e?property(r):baseMatchesProperty(r,e)}function baseGet(r,e,t){if(null!=r){void 0!==t&&t in toObject(r)&&(e=[t]);for(var n=0,a=e.length;null!=r&&n<a;)r=r[e[n++]];return n&&n==a?r:void 0}}function baseIsMatch(r,e,t){var n=e.length,a=n,i=!t;if(null==r)return!a;for(r=toObject(r);n--;){var o=e[n];if(i&&o[2]?o[1]!==r[o[0]]:!(o[0]in r))return!1}for(;++n<a;){o=e[n];var u=o[0],s=r[u],c=o[1];if(i&&o[2]){if(void 0===s&&!(u in r))return!1}else{var l=t?t(s,c,u):void 0;if(!(void 0===l?baseIsEqual(c,s,t,!0):l))return!1}}return!0}function baseMatches(r){var e=getMatchData(r);if(1==e.length&&e[0][2]){var t=e[0][0],n=e[0][1];return function(r){return null!=r&&(r[t]===n&&(void 0!==n||t in toObject(r)))}}return function(r){return baseIsMatch(r,e)}}function baseMatchesProperty(r,e){var t=isArray(r),n=isKey(r)&&isStrictComparable(e),a=r+"";return r=toPath(r),function(i){if(null==i)return!1;var o=a;if(i=toObject(i),(t||!n)&&!(o in i)){if(null==(i=1==r.length?i:baseGet(i,baseSlice(r,0,-1))))return!1;o=last(r),i=toObject(i)}return i[o]===e?void 0!==e||o in i:baseIsEqual(e,i[o],void 0,!0)}}function baseProperty(r){return function(e){return null==e?void 0:e[r]}}function basePropertyDeep(r){var e=r+"";return r=toPath(r),function(t){return baseGet(t,r,e)}}function baseSlice(r,e,t){var n=-1,a=r.length;e=null==e?0:+e||0,e<0&&(e=-e>a?0:a+e),t=void 0===t||t>a?a:+t||0,t<0&&(t+=a),a=e>t?0:t-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=r[n+e];return i}function getMatchData(r){for(var e=pairs(r),t=e.length;t--;)e[t][2]=isStrictComparable(e[t][1]);return e}function isKey(r,e){var t=typeof r;return!!("string"==t&&reIsPlainProp.test(r)||"number"==t)||!isArray(r)&&(!reIsDeepProp.test(r)||null!=e&&r in toObject(e))}function isStrictComparable(r){return r===r&&!isObject(r)}function toObject(r){return isObject(r)?r:Object(r)}function toPath(r){if(isArray(r))return r;var e=[];return baseToString(r).replace(rePropName,function(r,t,n,a){e.push(n?a.replace(reEscapeChar,"$1"):t||r)}),e}function last(r){var e=r?r.length:0;return e?r[e-1]:void 0}function isObject(r){var e=typeof r;return!!r&&("object"==e||"function"==e)}function identity(r){return r}function property(r){return isKey(r)?baseProperty(r):basePropertyDeep(r)}var baseIsEqual=require("lodash._baseisequal"),bindCallback=require("lodash._bindcallback"),isArray=require("lodash.isarray"),pairs=require("lodash.pairs"),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,reEscapeChar=/\\(\\)?/g;module.exports=baseCallback;

},{"lodash._baseisequal":63,"lodash._bindcallback":68,"lodash.isarray":79,"lodash.pairs":88}],58:[function(require,module,exports){
function baseCompareAscending(e,n){if(e!==n){var r=null===e,i=void 0===e,o=e===e,u=null===n,a=void 0===n,d=n===n;if(e>n&&!u||!o||r&&!a&&d||i&&d)return 1;if(e<n&&!r||!d||u&&!i&&o||a&&o)return-1}return 0}module.exports=baseCompareAscending;

},{}],59:[function(require,module,exports){
function baseCopy(e,o,r){r||(r={});for(var a=-1,n=o.length;++a<n;){var t=o[a];r[t]=e[t]}return r}module.exports=baseCopy;

},{}],60:[function(require,module,exports){
function baseForOwn(e,r){return baseFor(e,r,keys)}function baseProperty(e){return function(r){return null==r?void 0:r[e]}}function createBaseEach(e,r){return function(t,n){var o=t?getLength(t):0;if(!isLength(o))return e(t,n);for(var a=r?o:-1,c=toObject(t);(r?a--:++a<o)&&!1!==n(c[a],a,c););return t}}function createBaseFor(e){return function(r,t,n){for(var o=toObject(r),a=n(r),c=a.length,u=e?c:-1;e?u--:++u<c;){var s=a[u];if(!1===t(o[s],s,o))break}return r}}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function toObject(e){return isObject(e)?e:Object(e)}function isObject(e){var r=typeof e;return!!e&&("object"==r||"function"==r)}var keys=require("lodash.keys"),MAX_SAFE_INTEGER=9007199254740991,baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor(),getLength=baseProperty("length");module.exports=baseEach;

},{"lodash.keys":84}],61:[function(require,module,exports){
function baseFilter(e,a){var r=[];return baseEach(e,function(e,s,t){a(e,s,t)&&r.push(e)}),r}var baseEach=require("lodash._baseeach");module.exports=baseFilter;

},{"lodash._baseeach":60}],62:[function(require,module,exports){
function createBaseFor(r){return function(e,a,o){for(var t=-1,n=Object(e),c=o(e),s=c.length;s--;){var u=c[r?s:++t];if(!1===a(n[u],u,n))break}return e}}var baseFor=createBaseFor();module.exports=baseFor;

},{}],63:[function(require,module,exports){
function isObjectLike(r){return!!r&&"object"==typeof r}function arraySome(r,e){for(var a=-1,t=r.length;++a<t;)if(e(r[a],a,r))return!0;return!1}function baseIsEqual(r,e,a,t,o,n){return r===e||(null==r||null==e||!isObject(r)&&!isObjectLike(e)?r!==r&&e!==e:baseIsEqualDeep(r,e,baseIsEqual,a,t,o,n))}function baseIsEqualDeep(r,e,a,t,o,n,u){var c=isArray(r),s=isArray(e),i=arrayTag,g=arrayTag;c||(i=objToString.call(r),i==argsTag?i=objectTag:i!=objectTag&&(c=isTypedArray(r))),s||(g=objToString.call(e),g==argsTag?g=objectTag:g!=objectTag&&(s=isTypedArray(e)));var b=i==objectTag,l=g==objectTag,f=i==g;if(f&&!c&&!b)return equalByTag(r,e,i);if(!o){var y=b&&hasOwnProperty.call(r,"__wrapped__"),T=l&&hasOwnProperty.call(e,"__wrapped__");if(y||T)return a(y?r.value():r,T?e.value():e,t,o,n,u)}if(!f)return!1;n||(n=[]),u||(u=[]);for(var j=n.length;j--;)if(n[j]==r)return u[j]==e;n.push(r),u.push(e);var p=(c?equalArrays:equalObjects)(r,e,a,t,o,n,u);return n.pop(),u.pop(),p}function equalArrays(r,e,a,t,o,n,u){var c=-1,s=r.length,i=e.length;if(s!=i&&!(o&&i>s))return!1;for(;++c<s;){var g=r[c],b=e[c],l=t?t(o?b:g,o?g:b,c):void 0;if(void 0!==l){if(l)continue;return!1}if(o){if(!arraySome(e,function(r){return g===r||a(g,r,t,o,n,u)}))return!1}else if(g!==b&&!a(g,b,t,o,n,u))return!1}return!0}function equalByTag(r,e,a){switch(a){case boolTag:case dateTag:return+r==+e;case errorTag:return r.name==e.name&&r.message==e.message;case numberTag:return r!=+r?e!=+e:r==+e;case regexpTag:case stringTag:return r==e+""}return!1}function equalObjects(r,e,a,t,o,n,u){var c=keys(r),s=c.length;if(s!=keys(e).length&&!o)return!1;for(var i=s;i--;){var g=c[i];if(!(o?g in e:hasOwnProperty.call(e,g)))return!1}for(var b=o;++i<s;){g=c[i];var l=r[g],f=e[g],y=t?t(o?f:l,o?l:f,g):void 0;if(!(void 0===y?a(l,f,t,o,n,u):y))return!1;b||(b="constructor"==g)}if(!b){var T=r.constructor,j=e.constructor;if(T!=j&&"constructor"in r&&"constructor"in e&&!("function"==typeof T&&T instanceof T&&"function"==typeof j&&j instanceof j))return!1}return!0}function isObject(r){var e=typeof r;return!!r&&("object"==e||"function"==e)}var isArray=require("lodash.isarray"),isTypedArray=require("lodash.istypedarray"),keys=require("lodash.keys"),argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",stringTag="[object String]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString;module.exports=baseIsEqual;

},{"lodash.isarray":79,"lodash.istypedarray":83,"lodash.keys":84}],64:[function(require,module,exports){
function baseReduce(e,u,n,c,o){return o(e,function(e,o,t){n=c?(c=!1,e):u(n,e,o,t)}),n}module.exports=baseReduce;

},{}],65:[function(require,module,exports){
function baseSortBy(r,e){var o=r.length;for(r.sort(e);o--;)r[o]=r[o].value;return r}module.exports=baseSortBy;

},{}],66:[function(require,module,exports){
function baseToString(n){return null==n?"":n+""}module.exports=baseToString;

},{}],67:[function(require,module,exports){
function baseValues(e,r){for(var a=-1,s=r.length,u=Array(s);++a<s;)u[a]=e[r[a]];return u}module.exports=baseValues;

},{}],68:[function(require,module,exports){
function bindCallback(n,t,r){if("function"!=typeof n)return identity;if(void 0===t)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,c){return n.call(t,r,e,u,c)};case 5:return function(r,e,u,c,i){return n.call(t,r,e,u,c,i)}}return function(){return n.apply(t,arguments)}}function identity(n){return n}module.exports=bindCallback;

},{}],69:[function(require,module,exports){
function createAssigner(e){return restParam(function(r,a){var i=-1,t=null==r?0:a.length,l=t>2?a[t-2]:void 0,n=t>2?a[2]:void 0,o=t>1?a[t-1]:void 0;for("function"==typeof l?(l=bindCallback(l,o,5),t-=2):(l="function"==typeof o?o:void 0,t-=l?1:0),n&&isIterateeCall(a[0],a[1],n)&&(l=t<3?void 0:l,t=1);++i<t;){var s=a[i];s&&e(r,s,l)}return r})}var bindCallback=require("lodash._bindcallback"),isIterateeCall=require("lodash._isiterateecall"),restParam=require("lodash.restparam");module.exports=createAssigner;

},{"lodash._bindcallback":68,"lodash._isiterateecall":71,"lodash.restparam":90}],70:[function(require,module,exports){
function isObjectLike(t){return!!t&&"object"==typeof t}function getNative(t,o){var e=null==t?void 0:t[o];return isNative(e)?e:void 0}function isFunction(t){return isObject(t)&&objToString.call(t)==funcTag}function isObject(t){var o=typeof t;return!!t&&("object"==o||"function"==o)}function isNative(t){return null!=t&&(isFunction(t)?reIsNative.test(fnToString.call(t)):isObjectLike(t)&&reIsHostCtor.test(t))}var funcTag="[object Function]",reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=getNative;

},{}],71:[function(require,module,exports){
function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function isArrayLike(e){return null!=e&&isLength(getLength(e))}function isIndex(e,t){return e="number"==typeof e||reIsUint.test(e)?+e:-1,t=null==t?MAX_SAFE_INTEGER:t,e>-1&&e%1==0&&e<t}function isIterateeCall(e,t,n){if(!isObject(n))return!1;var r=typeof t;if("number"==r?isArrayLike(n)&&isIndex(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var reIsUint=/^\d+$/,MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length");module.exports=isIterateeCall;

},{}],72:[function(require,module,exports){
var reInterpolate=/<%=([\s\S]+?)%>/g;module.exports=reInterpolate;

},{}],73:[function(require,module,exports){
(function (global){(function (){
function checkGlobal(e){return e&&e.Object===Object?e:null}var objectTypes={function:!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:void 0,freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:void 0,freeGlobal=checkGlobal(freeExports&&freeModule&&"object"==typeof global&&global),freeSelf=checkGlobal(objectTypes[typeof self]&&self),freeWindow=checkGlobal(objectTypes[typeof window]&&window),thisGlobal=checkGlobal(objectTypes[typeof this]&&this),root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")();module.exports=root;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],74:[function(require,module,exports){
function assignWith(s,e,r){for(var i=-1,a=keys(e),n=a.length;++i<n;){var g=a[i],t=s[g],o=r(t,e[g],g,s,e);(o===o?o===t:t!==t)&&(void 0!==t||g in s)||(s[g]=o)}return s}var baseAssign=require("lodash._baseassign"),createAssigner=require("lodash._createassigner"),keys=require("lodash.keys"),assign=createAssigner(function(s,e,r){return r?assignWith(s,e,r):baseAssign(s,e)});module.exports=assign;

},{"lodash._baseassign":56,"lodash._createassigner":69,"lodash.keys":84}],75:[function(require,module,exports){
function escapeHtmlChar(t){return htmlEscapes[t]}function isObjectLike(t){return!!t&&"object"==typeof t}function isSymbol(t){return"symbol"==typeof t||isObjectLike(t)&&objectToString.call(t)==symbolTag}function toString(t){if("string"==typeof t)return t;if(null==t)return"";if(isSymbol(t))return Symbol?symbolToString.call(t):"";var o=t+"";return"0"==o&&1/t==-INFINITY?"-0":o}function escape(t){return t=toString(t),t&&reHasUnescapedHtml.test(t)?t.replace(reUnescapedHtml,escapeHtmlChar):t}var root=require("lodash._root"),INFINITY=1/0,symbolTag="[object Symbol]",reUnescapedHtml=/[&<>"'`]/g,reHasUnescapedHtml=RegExp(reUnescapedHtml.source),htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},objectProto=Object.prototype,objectToString=objectProto.toString,Symbol=root.Symbol,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=Symbol?symbolProto.toString:void 0;module.exports=escape;

},{"lodash._root":73}],76:[function(require,module,exports){
function filter(r,a,e){var l=isArray(r)?arrayFilter:baseFilter;return a=baseCallback(a,e,3),l(r,a)}var arrayFilter=require("lodash._arrayfilter"),baseCallback=require("lodash._basecallback"),baseFilter=require("lodash._basefilter"),isArray=require("lodash.isarray");module.exports=filter;

},{"lodash._arrayfilter":54,"lodash._basecallback":57,"lodash._basefilter":61,"lodash.isarray":79}],77:[function(require,module,exports){
function createForEach(a,r){return function(e,c,o){return"function"==typeof c&&void 0===o&&isArray(e)?a(e,c):r(e,bindCallback(c,o,3))}}var arrayEach=require("lodash._arrayeach"),baseEach=require("lodash._baseeach"),bindCallback=require("lodash._bindcallback"),isArray=require("lodash.isarray"),forEach=createForEach(arrayEach,baseEach);module.exports=forEach;

},{"lodash._arrayeach":53,"lodash._baseeach":60,"lodash._bindcallback":68,"lodash.isarray":79}],78:[function(require,module,exports){
function isArguments(t){return isArrayLikeObject(t)&&hasOwnProperty.call(t,"callee")&&(!propertyIsEnumerable.call(t,"callee")||objectToString.call(t)==argsTag)}function isArrayLike(t){return null!=t&&isLength(t.length)&&!isFunction(t)}function isArrayLikeObject(t){return isObjectLike(t)&&isArrayLike(t)}function isFunction(t){var e=isObject(t)?objectToString.call(t):"";return e==funcTag||e==genTag}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER}function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function isObjectLike(t){return!!t&&"object"==typeof t}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable;module.exports=isArguments;

},{}],79:[function(require,module,exports){
function isObjectLike(t){return!!t&&"object"==typeof t}function getNative(t,r){var e=null==t?void 0:t[r];return isNative(e)?e:void 0}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER}function isFunction(t){return isObject(t)&&objToString.call(t)==funcTag}function isObject(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function isNative(t){return null!=t&&(isFunction(t)?reIsNative.test(fnToString.call(t)):isObjectLike(t)&&reIsHostCtor.test(t))}var arrayTag="[object Array]",funcTag="[object Function]",reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nativeIsArray=getNative(Array,"isArray"),MAX_SAFE_INTEGER=9007199254740991,isArray=nativeIsArray||function(t){return isObjectLike(t)&&isLength(t.length)&&objToString.call(t)==arrayTag};module.exports=isArray;

},{}],80:[function(require,module,exports){
function isObjectLike(e){return!!e&&"object"==typeof e}function isElement(e){return!!e&&1===e.nodeType&&isObjectLike(e)&&!isPlainObject(e)}var isPlainObject=require("lodash.isplainobject");module.exports=isElement;

},{"lodash.isplainobject":82}],81:[function(require,module,exports){
function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}module.exports=isObject;

},{}],82:[function(require,module,exports){
function isObjectLike(o){return!!o&&"object"==typeof o}function baseForIn(o,e){return baseFor(o,e,keysIn)}function isPlainObject(o){var e;if(!isObjectLike(o)||objToString.call(o)!=objectTag||isArguments(o)||!hasOwnProperty.call(o,"constructor")&&"function"==typeof(e=o.constructor)&&!(e instanceof e))return!1;var t;return baseForIn(o,function(o,e){t=e}),void 0===t||hasOwnProperty.call(o,t)}var baseFor=require("lodash._basefor"),isArguments=require("lodash.isarguments"),keysIn=require("lodash.keysin"),objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString;module.exports=isPlainObject;

},{"lodash._basefor":62,"lodash.isarguments":78,"lodash.keysin":85}],83:[function(require,module,exports){
function isLength(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=MAX_SAFE_INTEGER}function isObjectLike(a){return!!a&&"object"==typeof a}function isTypedArray(a){return isObjectLike(a)&&isLength(a.length)&&!!typedArrayTags[objectToString.call(a)]}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var objectProto=Object.prototype,objectToString=objectProto.toString;module.exports=isTypedArray;

},{}],84:[function(require,module,exports){
function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function isArrayLike(e){return null!=e&&isLength(getLength(e))}function isIndex(e,t){return e="number"==typeof e||reIsUint.test(e)?+e:-1,t=null==t?MAX_SAFE_INTEGER:t,e>-1&&e%1==0&&e<t}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function shimKeys(e){for(var t=keysIn(e),r=t.length,n=r&&e.length,s=!!n&&isLength(n)&&(isArray(e)||isArguments(e)),o=-1,i=[];++o<r;){var u=t[o];(s&&isIndex(u,n)||hasOwnProperty.call(e,u))&&i.push(u)}return i}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function keysIn(e){if(null==e)return[];isObject(e)||(e=Object(e));var t=e.length;t=t&&isLength(t)&&(isArray(e)||isArguments(e))&&t||0;for(var r=e.constructor,n=-1,s="function"==typeof r&&r.prototype===e,o=Array(t),i=t>0;++n<t;)o[n]=n+"";for(var u in e)i&&isIndex(u,t)||"constructor"==u&&(s||!hasOwnProperty.call(e,u))||o.push(u);return o}var getNative=require("lodash._getnative"),isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray"),reIsUint=/^\d+$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeKeys=getNative(Object,"keys"),MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length"),keys=nativeKeys?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&isArrayLike(e)?shimKeys(e):isObject(e)?nativeKeys(e):[]}:shimKeys;module.exports=keys;

},{"lodash._getnative":70,"lodash.isarguments":78,"lodash.isarray":79}],85:[function(require,module,exports){
function isIndex(r,t){return r="number"==typeof r||reIsUint.test(r)?+r:-1,t=null==t?MAX_SAFE_INTEGER:t,r>-1&&r%1==0&&r<t}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER}function isObject(r){var t=typeof r;return!!r&&("object"==t||"function"==t)}function keysIn(r){if(null==r)return[];isObject(r)||(r=Object(r));var t=r.length;t=t&&isLength(t)&&(isArray(r)||isArguments(r))&&t||0;for(var e=r.constructor,n=-1,o="function"==typeof e&&e.prototype===r,s=Array(t),i=t>0;++n<t;)s[n]=n+"";for(var u in r)i&&isIndex(u,t)||"constructor"==u&&(o||!hasOwnProperty.call(r,u))||s.push(u);return s}var isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray"),reIsUint=/^\d+$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,MAX_SAFE_INTEGER=9007199254740991;module.exports=keysIn;

},{"lodash.isarguments":78,"lodash.isarray":79}],86:[function(require,module,exports){
function baseMap(r,a){var e=-1,n=isArrayLike(r)?Array(r.length):[];return baseEach(r,function(r,t,s){n[++e]=a(r,t,s)}),n}function baseProperty(r){return function(a){return null==a?void 0:a[r]}}function isArrayLike(r){return null!=r&&isLength(getLength(r))}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER}function map(r,a,e){var n=isArray(r)?arrayMap:baseMap;return a=baseCallback(a,e,3),n(r,a)}var arrayMap=require("lodash._arraymap"),baseCallback=require("lodash._basecallback"),baseEach=require("lodash._baseeach"),isArray=require("lodash.isarray"),MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length");module.exports=map;

},{"lodash._arraymap":55,"lodash._basecallback":57,"lodash._baseeach":60,"lodash.isarray":79}],87:[function(require,module,exports){
function baseForOwn(e,a){return baseFor(e,a,keys)}function createObjectMapper(e){return function(a,r,s){var o={};return r=baseCallback(r,s,3),baseForOwn(a,function(a,s,b){var n=r(a,s,b);s=e?n:s,a=e?a:n,o[s]=a}),o}}var baseCallback=require("lodash._basecallback"),baseFor=require("lodash._basefor"),keys=require("lodash.keys"),mapValues=createObjectMapper();module.exports=mapValues;

},{"lodash._basecallback":57,"lodash._basefor":62,"lodash.keys":84}],88:[function(require,module,exports){
function toObject(e){return isObject(e)?e:Object(e)}function isObject(e){var r=typeof e;return!!e&&("object"==r||"function"==r)}function pairs(e){e=toObject(e);for(var r=-1,t=keys(e),n=t.length,o=Array(n);++r<n;){var c=t[r];o[r]=[c,e[c]]}return o}var keys=require("lodash.keys");module.exports=pairs;

},{"lodash.keys":84}],89:[function(require,module,exports){
function arrayReduce(e,a,r,c){var u=-1,s=e.length;for(c&&s&&(r=e[++u]);++u<s;)r=a(r,e[u],u,e);return r}function createReduce(e,a){return function(r,c,u,s){var d=arguments.length<3;return"function"==typeof c&&void 0===s&&isArray(r)?e(r,c,u,d):baseReduce(r,baseCallback(c,s,4),u,d,a)}}var baseCallback=require("lodash._basecallback"),baseEach=require("lodash._baseeach"),baseReduce=require("lodash._basereduce"),isArray=require("lodash.isarray"),reduce=createReduce(arrayReduce,baseEach);module.exports=reduce;

},{"lodash._basecallback":57,"lodash._baseeach":60,"lodash._basereduce":64,"lodash.isarray":79}],90:[function(require,module,exports){
function restParam(r,t){if("function"!=typeof r)throw new TypeError(FUNC_ERROR_TEXT);return t=nativeMax(void 0===t?r.length-1:+t||0,0),function(){for(var a=arguments,e=-1,n=nativeMax(a.length-t,0),i=Array(n);++e<n;)i[e]=a[t+e];switch(t){case 0:return r.call(this,i);case 1:return r.call(this,a[0],i);case 2:return r.call(this,a[0],a[1],i)}var c=Array(t+1);for(e=-1;++e<t;)c[e]=a[e];return c[t]=i,r.apply(this,c)}}var FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max;module.exports=restParam;

},{}],91:[function(require,module,exports){
function compareAscending(e,r){return baseCompareAscending(e.criteria,r.criteria)||e.index-r.index}function baseMap(e,r){var a=-1,n=isArrayLike(e)?Array(e.length):[];return baseEach(e,function(e,t,i){n[++a]=r(e,t,i)}),n}function baseProperty(e){return function(r){return null==r?void 0:r[e]}}function isArrayLike(e){return null!=e&&isLength(getLength(e))}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function sortBy(e,r,a){if(null==e)return[];a&&isIterateeCall(e,r,a)&&(r=void 0);var n=-1;r=baseCallback(r,a,3);var t=baseMap(e,function(e,a,t){return{criteria:r(e,a,t),index:++n,value:e}});return baseSortBy(t,compareAscending)}var baseCallback=require("lodash._basecallback"),baseCompareAscending=require("lodash._basecompareascending"),baseEach=require("lodash._baseeach"),baseSortBy=require("lodash._basesortby"),isIterateeCall=require("lodash._isiterateecall"),MAX_SAFE_INTEGER=9007199254740991,getLength=baseProperty("length");module.exports=sortBy;

},{"lodash._basecallback":57,"lodash._basecompareascending":58,"lodash._baseeach":60,"lodash._basesortby":65,"lodash._isiterateecall":71}],92:[function(require,module,exports){
function escapeStringChar(e){return"\\"+stringEscapes[e]}function isObjectLike(e){return!!e&&"object"==typeof e}function assignOwnDefaults(e,r,t,n){return void 0!==e&&hasOwnProperty.call(n,t)?e:r}function assignWith(e,r,t){for(var n=-1,a=keys(r),s=a.length;++n<s;){var i=a[n],o=e[i],p=t(o,r[i],i,e,r);(p===p?p===o:o!==o)&&(void 0!==o||i in e)||(e[i]=p)}return e}function baseAssign(e,r){return null==r?e:baseCopy(r,keys(r),e)}function isError(e){return isObjectLike(e)&&"string"==typeof e.message&&objToString.call(e)==errorTag}function template(e,r,t){var n=templateSettings.imports._.templateSettings||templateSettings;t&&isIterateeCall(e,r,t)&&(r=t=void 0),e=baseToString(e),r=assignWith(baseAssign({},t||r),n,assignOwnDefaults);var a,s,i=assignWith(baseAssign({},r.imports),n.imports,assignOwnDefaults),o=keys(i),p=baseValues(i,o),l=0,u=r.interpolate||reNoMatch,c="__p += '",g=RegExp((r.escape||reNoMatch).source+"|"+u.source+"|"+(u===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(r.evaluate||reNoMatch).source+"|$","g"),_="sourceURL"in r?"//# sourceURL="+r.sourceURL+"\n":"";e.replace(g,function(r,t,n,i,o,p){return n||(n=i),c+=e.slice(l,p).replace(reUnescapedString,escapeStringChar),t&&(a=!0,c+="' +\n__e("+t+") +\n'"),o&&(s=!0,c+="';\n"+o+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=p+r.length,r}),c+="';\n";var b=r.variable;b||(c="with (obj) {\n"+c+"\n}\n"),c=(s?c.replace(reEmptyStringLeading,""):c).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),c="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var h=attempt(function(){return Function(o,_+"return "+c).apply(void 0,p)});if(h.source=c,isError(h))throw h;return h}var baseCopy=require("lodash._basecopy"),baseToString=require("lodash._basetostring"),baseValues=require("lodash._basevalues"),isIterateeCall=require("lodash._isiterateecall"),reInterpolate=require("lodash._reinterpolate"),keys=require("lodash.keys"),restParam=require("lodash.restparam"),templateSettings=require("lodash.templatesettings"),errorTag="[object Error]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,attempt=restParam(function(e,r){try{return e.apply(void 0,r)}catch(e){return isError(e)?e:new Error(e)}});module.exports=template;

},{"lodash._basecopy":59,"lodash._basetostring":66,"lodash._basevalues":67,"lodash._isiterateecall":71,"lodash._reinterpolate":72,"lodash.keys":84,"lodash.restparam":90,"lodash.templatesettings":93}],93:[function(require,module,exports){
var escape=require("lodash.escape"),reInterpolate=require("lodash._reinterpolate"),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:{escape:escape}}};module.exports=templateSettings;

},{"lodash._reinterpolate":72,"lodash.escape":75}],94:[function(require,module,exports){
function _delta(t,e){var n,a;return n=Date.now(),a=n-this.now,a=Math.min(a,MAX_DT),a=Math.max(a,MIN_DT),this.elapsed+=a,this.now=n,a}function _start(){this.now=Date.now()}function _reset(){this.now=0,this.elapsed=0}function _getValue(t){return this[t]}var MAX_DT=60,MIN_DT=1e3/60;module.exports=function(){var t={now:0,elapsed:0};return{start:_start.bind(t),reset:_reset.bind(t),now:_getValue.bind(t,"now"),elapsed:_getValue.bind(t,"elapsed"),delta:_delta.bind(t)}};

},{}],95:[function(require,module,exports){
function _startFn(t,e,r){return function(){r.started||(r.clockStarted||e.start(),t(),r.started=!0)}}function _stopFn(t){return function(){Raf.cancel(t.rafHandle),t.started=!1}}function _loopFn(t,e,r,n){var a={dt:0,unitDt:0,now:0,elapsed:0};return function o(){n.rafHandle=Raf.invoke(o),a.dt=e.delta(),a.unitDt=a.dt/16.66666667,a.now=e.now(),a.elapsed=e.elapsed(),r(a),t.emit("update",a),t.emit("updatedone",a),t.emit("draw",a),t.emit("drawdone",a)}}var Raf=require("./raf")(),EventEmitter=require("events").EventEmitter,CreateClock=require("./clock"),passThrough=function(t){return t};module.exports=function(t){var e,r;"object"==typeof t&&(e=t.emitter,r=t.customizeEvent),e=e||new EventEmitter,r=r||passThrough;var n=CreateClock(),a={clockStarted:!1,started:!1,rafHandle:null};return{start:_startFn(_loopFn(e,n,r,a),n,a),stop:_stopFn(a),reset:n.reset,emitter:e}};

},{"./clock":94,"./raf":96,"events":40}],96:[function(require,module,exports){
function _getNativeRAF(){for(var n=window.requestAnimationFrame,e=window.cancelAnimationFrame,i=["ms","moz","webkit","o"],o=0;!n&&o<i.length;++o)n=window[i[o]+"RequestAnimationFrame"],e=window[i[o]+"CancelAnimationFrame"]||window[i[o]+"CancelRequestAnimationFrame"];return{invoke:n.bind(window),cancel:e.bind(window)}}function _invokeFn(){var n=0;return function(e,i){var o=(new Date).getTime(),t=Math.max(0,16-(o-n)),a=window.setTimeout(function(){e(o+t)},t);return n=o+t,a}}function _cancel(n){clearTimeout(n)}module.exports=function(){var n=_getNativeRAF();return n.invoke=n.invoke?n.invoke:_invokeFn(),n.cancel=n.cancel?n.cancel:_cancel(),{invoke:function(e){return n.invoke(e)},cancel:function(e){n.cancel(e)}}};

},{}],97:[function(require,module,exports){
var EventEmitter=require("events").EventEmitter,IsObject=require("lodash.isobject"),Each=require("lodash.foreach"),Extend=require("lodash.assign"),load=function(e,t,n,r){return function(s){var i=this.slug,a=e[s],o=this.manifest;if(!IsObject(a))return!1;this.slug&&r.emit("unload",{slug:i,manifest:o});var u=n(a,s);return parseManifest(t,u),parseManifest(a,u),this.manifest=a,this.slug=s,r.emit("load",{slug:s,globalManifest:t,manifest:a,graph:u}),u}},parseManifest=function(e,t){return Each(e.components,function(e,n){var r;IsObject(e)?(r=IsObject(e.properties)?e.properties:{},IsObject(e.function)?t[n]=e.function(t,r):IsObject(e.construct)?t[n]=new e.construct(t,r):t[n]=e):t[n]=e}),t},createBlankObject=function(){return{}};module.exports=function(e,t){var n=Extend({globalManifest:{},getGraph:createBlankObject,emitter:new EventEmitter},t),r=Object.preventExtensions({slug:null,manifest:null});return{load:load(e,n.globalManifest,n.getGraph,n.emitter).bind(r),emitter:n.emitter}};

},{"events":40,"lodash.assign":74,"lodash.foreach":77,"lodash.isobject":81}],98:[function(require,module,exports){
var Map=require("lodash.map"),colors={hexToArray:function(r){var o=colors.hexToString(r);return[parseInt(o[1]+o[2],16),parseInt(o[3]+o[4],16),parseInt(o[5]+o[6],16)]},arrayToHex:function(r){var o=Map(r,function(r){var o=parseInt(r,10).toString(16);return o.length>1?o:"0"+o}).join("");return parseInt(o,16)},lightness:function(r,o){if("number"!=typeof r)throw new Error("hexColor must be in the form of 0x54AFFF");if(r<0||r>16777215)throw new Error("hexColor is out of range");var n=colors.hexToArray(r),e=255;o<0&&(o*=-1,e=0);var t=Map(n,function(r){return r*(1-o)+e*o});return colors.arrayToHex(t)},mix:function(r,o,n){var e=colors.hexToArray(r),t=colors.hexToArray(o),a=Map(e,function(r,o){return r*(1-n)+t[o]*n});return colors.arrayToHex(a)},hexToString:function(r){for(var o=parseInt(r,10).toString(16);o.length<6;)o="0"+o;return"#"+o}};module.exports=colors;

},{"lodash.map":86}],99:[function(require,module,exports){
(function (Buffer){(function (){
var insertCss=require("insert-css"),ClassList=require("class-list"),EventEmitter=require("events").EventEmitter,colors=require("./colors"),Pairs=require("lodash.pairs"),Filter=require("lodash.filter"),SortBy=require("lodash.sortby"),ForEach=require("lodash.foreach"),Template=require("lodash.template"),MapValues=require("lodash.mapvalues"),Reduce=require("lodash.reduce"),IsElement=require("lodash.iselement"),Extend=require("lodash.assign"),_menuTemplate=null,_cssTemplate=null,_levelTemplate=null,sortAndFilterManifests=function(C){var g=Pairs(C),b=Filter(g,function(C){return!1!==C[1].visible});return SortBy(b,function(C){return C[1].order})},handlers=function(){var C=ClassList(document.body),g=!1,b=null,l=!1,t=function(C){C&&C.preventDefault(),g?I():e()},I=function(){C.remove("poem-menu-open"),b.emit("close"),g=!1},e=function(){C.add("poem-menu-open"),b.emit("open"),g=!0},o=function(C){b.emit("load",{slug:this.getAttribute("data-slug")}),I()};return function(C,g,W){b=g,l=C.preventDefault,W.getElementsByClassName("poem-menu-burger")[0].addEventListener("click",t,!1);var A=W.getElementsByClassName("poem-menu-levels")[0].getElementsByTagName("a");return ForEach(A,function(C){C.addEventListener("click",o,!1)}),W.getElementsByClassName("poem-menu-blocker")[0].addEventListener("click",I,!1),window.addEventListener("keydown",function(g){g.keyCode===C.toggleKey&&t(g)}),{close:I,open:e}}}(),loadTemplatesOnce=function(){var C=!0;return function(){C&&(C=!1,_menuTemplate=Template(Buffer("PGRpdiBjbGFzcz0ncG9lbS1tZW51Jz4KCQoJPGEgY2xhc3M9InBvZW0tbWVudS1idXJnZXIiIGhyZWY9IiNtZW51IiB0aXRsZT0nSGl0IEVTQyBrZXkgdG8gb3Blbi9jbG9zZSc+CgkJPGRpdiBjbGFzcz0icG9lbS1tZW51LWJ1cmdlci1iYXJzIj48L2Rpdj4KCTwvYT4KCQoJPGRpdiBjbGFzcz0ncG9lbS1tZW51LXRvcCc+PC9kaXY+CgkKCTxkaXYgY2xhc3M9J3BvZW0tbWVudS1taWRkbGUnPgoJCTxkaXYgY2xhc3M9J3BvZW0tbWVudS1sZXZlbHMtdG9wJz48L2Rpdj4KCQk8ZGl2IGNsYXNzPSdwb2VtLW1lbnUtbGV2ZWxzJz4KCQkJPCU9IGxldmVscyAlPgoJCTwvZGl2PgoJCTxkaXYgY2xhc3M9J3BvZW0tbWVudS1sZXZlbHMtYm90dG9tJz48L2Rpdj4KCTwvZGl2PgoJCQoJPGRpdiBjbGFzcz0ncG9lbS1tZW51LWJvdHRvbSc+PC9kaXY+CgkKPC9kaXY+CjxkaXYgY2xhc3M9J3BvZW0tbWVudS1ibG9ja2VyJz48L2Rpdj4=","base64")),_levelTemplate=Template(Buffer("PGEgaHJlZj0nIy88JS0gc2x1ZyAlPicgZGF0YS1zbHVnPSc8JS0gc2x1ZyAlPicgY2xhc3M9J3BvZW0tbWVudS1sZXZlbCc+Cgk8aDIgY2xhc3M9J3BvZW0tbWVudS1sZXZlbC1uYW1lJz48JS0gbWFuaWZlc3QubmFtZSAlPjwvaDE+Cgk8ZGl2IGNsYXNzPSdwb2VtLW1lbnUtbGV2ZWwtZGVzY3JpcHRpb24nPjwlLSBtYW5pZmVzdC5kZXNjcmlwdGlvbiAlPjwvZGl2Pgo8L2E+","base64")),_cssTemplate=Template(Buffer("LnBvZW0tbWVudSwKLnBvZW0tbWVudSAqLAoucG9lbS1tZW51ICo6YmVmb3JlLAoucG9lbS1tZW51ICo6YWZ0ZXIgewoJLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94OyAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLnBvZW0tbWVudSBhIHsKCWNvbG9yOiA8JT0gcHJpbWFyeSAlPjsKfQoucG9lbS1tZW51IHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0zMDBweCk7CiAgICAgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMzAwcHgpOwogICAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTMwMHB4KTsKICAgICAgICAgLW8tdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0zMDBweCk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMzAwcHgpOwogICAgdHJhbnNpdGlvbjogNTAwbXM7CiAgICB3aWR0aDogMzAwcHg7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBib3JkZXItcmlnaHQ6IDNweCBzb2xpZCA8JT0gbWVudUxpZ2h0ICU+OwogICAgYmFja2dyb3VuZDogPCU9IG1lbnVEYXJrICU+OwogICAgcGFkZGluZzogMWVtOwoJei1pbmRleDoxMDE7Cn0KLnBvZW0tbWVudS1vcGVuIC5wb2VtLW1lbnUgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgICAgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwogICAgICAgICAtby10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgIGJveC1zaGFkb3c6IDAgMCAyZW0gcmdiYSgwLCAwLCAwLCAwLjE5KTsKfQoucG9lbS1tZW51LWJsb2NrZXIgewoJaGVpZ2h0OjA7Cgl3aWR0aDoxMDAlOwoJcG9zaXRpb246YWJzb2x1dGU7Cgl0b3A6MDsKCWxlZnQ6MDsKCXotaW5kZXg6MTAwOwoJY3Vyc29yOiBwb2ludGVyOwogICAgYmFja2dyb3VuZDogPCU9IG1lbnUgJT47CglvcGFjaXR5OjA7Cgktd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7CgkgICAtbW96LXRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7CgkgICAgLW1zLXRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7CgkgICAgIC1vLXRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7CgkgICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXM7Cn0KLnBvZW0tbWVudS1vcGVuIC5wb2VtLW1lbnUtYmxvY2tlciB7CgloZWlnaHQ6MTAwJTsKCW9wYWNpdHk6MC43Owp9Ci5wb2VtLW1lbnUtb3BlbiAucG9lbS1tZW51LWNvbnRhaW5lciB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICAgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICAgICAgIC1vLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMDBweCk7CiAgICBvcGFjaXR5OiAwLjM7Cn0KLnBvZW0tbWVudS1jb250YWluZXIgewoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CgkgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKCSAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwoJICAgICAtby10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CgkgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKCWhlaWdodDogMTAwJTsKCXRyYW5zaXRpb246IHRyYW5zZm9ybSA1MDBtcywgb3BhY2l0eSA1MDBtczsKCXdpZHRoOiAxMDAlOwoJcG9zaXRpb246IGFic29sdXRlOwoJei1pbmRleDowOwp9Ci5wb2VtLW1lbnUtYnVyZ2VyIHsKCXBhZGRpbmc6IDEuNWVtIDAuNWVtOwoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJcG9zaXRpb246IGFic29sdXRlOwoJdG9wOiAwOwoJcmlnaHQ6IDA7Cgktd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7CgkgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7CgkgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7CgkgICAgIC1vLXRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7CgkgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDMuNGVtLCAwLjRlbSk7Cgktd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIDUwMG1zOwoJICAgLW1vei10cmFuc2l0aW9uOiAtbW96LXRyYW5zZm9ybSA1MDBtczsKCSAgICAtbXMtdHJhbnNpdGlvbjogLW1zLXRyYW5zZm9ybSA1MDBtczsKCSAgICAgLW8tdHJhbnNpdGlvbjogLW8tdHJhbnNmb3JtIDUwMG1zOwoJICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gNTAwbXM7Cn0KLnBvZW0tbWVudS1idXJnZXItYmFycyB7CglkaXNwbGF5OmJsb2NrOwoJaGVpZ2h0OjAuM2VtOwoJd2lkdGg6MmVtOwoJYmFja2dyb3VuZDogPCU9IGhhbWJ1cmdlciAlPjsKCXBvc2l0aW9uOnJlbGF0aXZlOwoJY3Vyc29yOiBwb2ludGVyOwoJLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC42NnM7CgkgICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgICAtbXMtdHJhbnNpdGlvbjogYWxsIDAuNjZzOwoJICAgICAtby10cmFuc2l0aW9uOiBhbGwgMC42NnM7CgkgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjY2czsKfQoucG9lbS1tZW51LWJ1cmdlci1iYXJzOmFmdGVyIHsKCWNvbnRlbnQ6Jyc7Cglwb3NpdGlvbjphYnNvbHV0ZTsKCXRvcDowLjhlbTsKCXdpZHRoOjJlbTsKCWhlaWdodDowLjNlbTsKCWJhY2tncm91bmQ6IDwlPSBoYW1idXJnZXIgJT47Cgktd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuNjZzOwoJICAgIC1tcy10cmFuc2l0aW9uOiBhbGwgMC42NnM7CgkgICAgIC1vLXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNjZzOwp9Ci5wb2VtLW1lbnUtYnVyZ2VyLWJhcnM6YmVmb3JlIHsKCWNvbnRlbnQ6Jyc7Cglwb3NpdGlvbjphYnNvbHV0ZTsKCXRvcDotMC44ZW07Cgl3aWR0aDoyZW07CgloZWlnaHQ6MC4zZW07CgliYWNrZ3JvdW5kOjwlPSBoYW1idXJnZXIgJT47Cgktd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuNjZzOwoJICAgIC1tcy10cmFuc2l0aW9uOiBhbGwgMC42NnM7CgkgICAgIC1vLXRyYW5zaXRpb246IGFsbCAwLjY2czsKCSAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNjZzOwp9CgoucG9lbS1tZW51LW9wZW4gLnBvZW0tbWVudS1idXJnZXItYmFycyB7CgliYWNrZ3JvdW5kOnRyYW5zcGFyZW50Owp9Ci5wb2VtLW1lbnUtb3BlbiAucG9lbS1tZW51LWJ1cmdlci1iYXJzOmJlZm9yZSB7Cgktd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMjI1ZGVnKTsKCSAgIC1tb3otdHJhbnNmb3JtOnJvdGF0ZSgyMjVkZWcpOwoJICAgIC1tcy10cmFuc2Zvcm06cm90YXRlKDIyNWRlZyk7CgkgICAgIC1vLXRyYW5zZm9ybTpyb3RhdGUoMjI1ZGVnKTsKCSAgICAgICAgdHJhbnNmb3JtOnJvdGF0ZSgyMjVkZWcpOwoJdG9wOjA7Cn0KLnBvZW0tbWVudS1vcGVuIC5wb2VtLW1lbnUtYnVyZ2VyLWJhcnM6YWZ0ZXIgewoJLXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJICAgLW1vei10cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJICAgIC1tcy10cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJICAgICAtby10cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJICAgICAgICB0cmFuc2Zvcm06cm90YXRlKC0yMjVkZWcpOwoJdG9wOjA7Cn0KLnBvZW0tbWVudS1ib3R0b20gewoJcG9zaXRpb246IGFic29sdXRlOwoJYm90dG9tOiAwOwoJd2lkdGg6IDEwMCU7CglsZWZ0OiAwOwoJcGFkZGluZzogMWVtOwp9Ci5wb2VtLW1lbnUtYm90dG9tLW11dGUgewoJdGV4dC1hbGlnbjpyaWdodDsKfQoucG9lbS1tZW51LWJvdHRvbS1tdXRlIGltZyB7Cgl3aWR0aDo2MHB4Owp9Ci5wb2VtLW1lbnUtYm90dG9tLXJlc2V0IHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCWJvdHRvbToxLjNlbTsKCWxlZnQ6MWVtOwp9Ci5wb2VtLW1lbnUtdG9wIHsKICAgIGNvbG9yOiA8JT0gcHJpbWFyeSAlPjsKICAgIGZvbnQtc2l6ZTogMS43ZW07CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBmb250LXdlaWdodDogODAwOwogICAgbGluZS1oZWlnaHQ6IDEuMjsKICAgIG1hcmdpbi10b3A6IDAuMWVtOwp9Ci5wb2VtLW1lbnUtbWlkZGxlIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IDA7CiAgICByaWdodDogMDsKICAgIHRvcDogNC40ZW07CiAgICBib3R0b206IDVlbTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgcGFkZGluZzogMWVtOwogICAgYmFja2dyb3VuZDogPCU9IG1lbnUgJT47CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgPCU9IG1lbnVMaWdodCAlPjsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCA8JT0gbWVudURhcmsgJT47Cn0KLnBvZW0tbWVudS1sZXZlbC1uYW1lIHsKICAgIG1hcmdpbjogMDsKICAgIGZvbnQtd2VpZ2h0OiAxMDA7CiAgICBmb250LXNpemU6IDEuMWVtOwogICAgbWFyZ2luLWJvdHRvbTogMC4zZW07Cgljb2xvcjogPCU9IHByaW1hcnkgJT4KfQphOmhvdmVyIC5wb2VtLW1lbnUtbGV2ZWwtbmFtZSB7Cgljb2xvcjogPCU9IHByaW1hcnlBY3RpdmUgJT4KfQoucG9lbS1tZW51LWxldmVsLWRlc2NyaXB0aW9uIHsKICAgIGNvbG9yOiA8JT0gdGV4dCAlPjsKICAgIHRleHQtdHJhbnNmb3JtOiBub25lOwogICAgZm9udC1zaXplOiAwLjhlbTsKICAgIGZvbnQtd2VpZ2h0OiAxMDA7Cn0KYTpob3ZlciAucG9lbS1tZW51LWxldmVsLWRlc2NyaXB0aW9uIHsKCWNvbG9yOiA8JT0gdGV4dEFjdGl2ZSAlPgp9CgphLnBvZW0tbWVudS1sZXZlbCB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGJvcmRlcjogMXB4IHNvbGlkIDwlPSBsZXZlbEFjdGl2ZSAlPjsKICAgIG1hcmdpbjogMS4zZW0gMDsKICAgIHBhZGRpbmc6IDAuNWVtOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgYm94LXNoYWRvdzogMCAwIDAuOWVtIHJnYmEoMCwgMCwgMCwgMC4yMik7CiAgICBiYWNrZ3JvdW5kOiA8JT0gbGV2ZWwgJT47CiAgICAtd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIDIwMG1zOwogICAgICAgLW1vei10cmFuc2l0aW9uOiAtbW96LXRyYW5zZm9ybSAyMDBtczsKICAgICAgICAtbXMtdHJhbnNpdGlvbjogLW1zLXRyYW5zZm9ybSAyMDBtczsKICAgICAgICAgLW8tdHJhbnNpdGlvbjogLW8tdHJhbnNmb3JtIDIwMG1zOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMjAwbXM7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAtbW96LXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAgLW1zLXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAgIC1vLXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7Cn0KYS5wb2VtLW1lbnUtbGV2ZWwtdGl0bGVzIHsKCXRleHQtYWxpZ246IGNlbnRlcjsKCXBhZGRpbmc6IDAuNGVtOwoJbWFyZ2luLXRvcDogMC41ZW07Cn0KYS5wb2VtLW1lbnUtbGV2ZWw6aG92ZXIgewogICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEuMDE1KTsKICAgICAgIC1tb3otdHJhbnNmb3JtOiBzY2FsZSgxLjAxNSk7CiAgICAgICAgLW1zLXRyYW5zZm9ybTogc2NhbGUoMS4wMTUpOwogICAgICAgICAtby10cmFuc2Zvcm06IHNjYWxlKDEuMDE1KTsKICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjAxNSk7Cn0KQG1lZGlhIChtYXgtd2lkdGg6NDAwcHgpIHsKCS5wb2VtLW1lbnUgewoJICAgIGZvbnQtc2l6ZTogMC44NWVtOwoJfQoJLnBvZW0tbWVudS1vcGVuIC5idXJnZXItd3JhcHBlciB7CgkgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTAuMWVtKTsKCSAgICAgICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMC4xZW0pOwoJICAgICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0wLjFlbSk7CgkgICAgICAgICAtby10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTAuMWVtKTsKCSAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMC4xZW0pOwoJfQoJCgkucG9lbS1tZW51LXRvcCB7CgkgICAgdGV4dC1hbGlnbjogbGVmdDsKCSAgICBmb250LXNpemU6IDIuMWVtOwoJfQoJLnBvZW0tbWVudS1taWRkbGUgewoJICAgIHRvcDogNC44ZW07CgkgICAgYm90dG9tOiAzLjVlbTsKCX0KfQ==","base64")))}}(),runCssTemplates=function(C){var g=C.primaryColor>C.menuColor?1:-1,b=_cssTemplate(MapValues({hamburger:C.hamburgerColor,primaryActive:C.primaryColor,text:C.textColor,menu:C.menuColor,textActive:colors.lightness(C.textColor,.1*g),menuDark:colors.lightness(C.menuColor,-.2*g),menuLight:colors.lightness(C.menuColor,.2*g),primary:colors.mix(C.primaryColor,C.menuColor,.2),level:colors.mix(C.primaryColor,C.menuColor,.9),levelActive:colors.mix(C.primaryColor,C.menuColor,.6)},colors.hexToString));insertCss(b)},runHtmlTemplates=function(C,g){function b(C,g){IsElement(g)?C.appendChild(g):C.innerHTML=g}var l=Reduce(C,function(C,g){return C+_levelTemplate({slug:g[0],manifest:g[1]})},""),t=_menuTemplate({levels:l}),I=document.createElement("div");return I.innerHTML=t,b(I.getElementsByClassName("poem-menu-top")[0],g.top),b(I.getElementsByClassName("poem-menu-levels-top")[0],g.beforeLevels),b(I.getElementsByClassName("poem-menu-levels-bottom")[0],g.afterLevels),b(I.getElementsByClassName("poem-menu-bottom")[0],g.bottom),document.body.insertBefore(I,document.body.firstChild),I};module.exports=function(C,g){loadTemplatesOnce();var b=Extend({hamburgerColor:16777215,primaryColor:5550079,textColor:10471137,menuColor:2567732,top:"Poem",beforeLevels:"",afterLevels:"",bottom:"",preventDefaultLevelLinks:!0,toggleKey:27},g),l=new EventEmitter,t=sortAndFilterManifests(C);runCssTemplates(b);var I=runHtmlTemplates(t,b),e=handlers(b,l,I);return{emitter:l,close:e.close,open:e.open}};

}).call(this)}).call(this,require("buffer").Buffer)

},{"./colors":98,"buffer":41,"class-list":42,"events":40,"insert-css":50,"lodash.assign":74,"lodash.filter":76,"lodash.foreach":77,"lodash.iselement":80,"lodash.mapvalues":87,"lodash.pairs":88,"lodash.reduce":89,"lodash.sortby":91,"lodash.template":92}],100:[function(require,module,exports){
var localforage=require("localforage"),EventEmitter=require("events").EventEmitter,muteUI=require("./ui"),extend=require("extend"),dispatchChanged=function(e,t){e.emit("change",t),!0===t?e.emit("mute"):e.emit("unmute")},updateFromLocalStorage=function(e,t){localforage.getItem("poem-mute",function(t,u){e.muted();t||!1!==u&&!0!==u?e.muted(!1):e.muted(u)}.bind(this))},keyboardShortcut=function(e,t,u){!1!==u.keyCode&&window.addEventListener("keydown",function(e){e.keyCode===u.keyCode&&t()})},getSetMuted=function(e,t){return function(u){return!0!==u&&!1!==u||u!==e.muted&&(e.muted=u,localforage.setItem("poem-mute",e.muted),dispatchChanged(t,e.muted)),e.muted}},mute=function(e){var t=extend({muted:!1,keyCode:83}),u={muted:t.muted},n=new EventEmitter,o=getSetMuted(u,n),d=function(){o(!o())};keyboardShortcut(u,d,t);var r={muted:o,toggle:d,emitter:n,el:null};return updateFromLocalStorage(r,n),r.el=muteUI(r),r};module.exports=mute;

},{"./ui":102,"events":40,"extend":101,"localforage":52}],101:[function(require,module,exports){
var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function(r){return"function"==typeof Array.isArray?Array.isArray(r):"[object Array]"===toStr.call(r)},isPlainObject=function(r){"use strict";if(!r||"[object Object]"!==toStr.call(r))return!1;var t=hasOwn.call(r,"constructor"),e=r.constructor&&r.constructor.prototype&&hasOwn.call(r.constructor.prototype,"isPrototypeOf");if(r.constructor&&!t&&!e)return!1;var o;for(o in r);return void 0===o||hasOwn.call(r,o)},setProperty=function(r,t){defineProperty&&"__proto__"===t.name?defineProperty(r,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):r[t.name]=t.newValue},getProperty=function(r,t){if("__proto__"===t){if(!hasOwn.call(r,t))return;if(gOPD)return gOPD(r,t).value}return r[t]};module.exports=function r(){"use strict";var t,e,o,n,a,i,c=arguments[0],u=1,l=arguments.length,p=!1;for("boolean"==typeof c&&(p=c,c=arguments[1]||{},u=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});u<l;++u)if(null!=(t=arguments[u]))for(e in t)o=getProperty(c,e),n=getProperty(t,e),c!==n&&(p&&n&&(isPlainObject(n)||(a=isArray(n)))?(a?(a=!1,i=o&&isArray(o)?o:[]):i=o&&isPlainObject(o)?o:{},setProperty(c,{name:e,newValue:r(p,i,n)})):void 0!==n&&setProperty(c,{name:e,newValue:n}));return c};

},{}],102:[function(require,module,exports){
(function (Buffer){(function (){
function createElement(L,M){var j=document.createElement("div");return j.innerHTML=L,j.getElementsByClassName(M)[0]}var ClassList=require("class-list"),insertCss=require("insert-css"),_html=Buffer("PGEgaHJlZj0nI211dGUnIGlkPSdwb2VtLW11dGUnIGNsYXNzPSdwb2VtLW11dGUnIHRpdGxlPSdIaXQgUyBrZXkgdG8gbXV0ZSc+Cgk8c3ZnIGNsYXNzPSdwb2VtLW11dGUtc3ZnJyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJCSB2aWV3Qm94PSIwIDAgNjQwIDQxNC40IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA2NDAgNDE0LjQiIHhtbDpzcGFjZT0icHJlc2VydmUiPgoJPHBhdGggY2xhc3M9J3BvZW0tbXV0ZS1zcGVha2VyJwoJCWQ9Ik0yOTQuNCwzNzlsLTExMi41LTc4LjljLTMuOC0yLjctOC4zLTQuMS0xMy00LjFINzMuNkM2MS4xLDI5Niw1MSwyODUuOSw1MSwyNzMuNFYxNDIuNmMwLTEyLjUsMTAuMS0yMi42LDIyLjYtMjIuNmg5Ni4yCgkJYzQuNywwLDkuMi0xLjQsMTMuMS00LjFsMTExLjUtNzguN2MxNS0xMC42LDM1LjcsMC4xLDM1LjcsMTguNXYzMDQuOEMzMzAsMzc4LjgsMzA5LjQsMzg5LjUsMjk0LjQsMzc5eiIvPgoJPHBhdGggY2xhc3M9J3BvZW0tbXV0ZS14JwoJCWQ9Ik01NjUuMywyNjkuM2wtNTkuMS01OS4xbDU5LjEtNTkuMWM3LjEtNy4xLDcuMS0xOC43LDAtMjUuOGMtNy4xLTcuMS0xOC43LTcuMS0yNS44LDBsLTU5LjEsNTkuMWwtNTkuMS01OS4xCgkJYy03LjEtNy4xLTE4LjctNy4xLTI1LjgsMGwwLDBjLTcuMSw3LjEtNy4xLDE4LjcsMCwyNS44bDU5LjEsNTkuMWwtNTkuMSw1OS4xYy03LjEsNy4xLTcuMSwxOC43LDAsMjUuOGM3LjEsNy4xLDE4LjcsNy4xLDI1LjgsMAoJCWw1OS4xLTU5LjFsNTkuMSw1OS4xYzcuMSw3LjEsMTguNyw3LjEsMjUuOCwwdjBDNTcyLjQsMjg3LjksNTcyLjQsMjc2LjQsNTY1LjMsMjY5LjN6Ii8+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggY2xhc3M9J3BvZW0tbXV0ZS13YXZlJwoJCQkJZD0iTTM5NS4yLDMxNC4yYy02LjMsMC0xMi40LTMuNy0xNS4xLTkuOGMtMi44LTYuNS0xLjItMTMuNywzLjUtMTguNGMwLjUtMC42LDEtMS4yLDEuNi0xLjhjMi4yLTIuMiw0LjMtMy42LDYuMS00LjcKCQkJCWMxLTEuMSwyLTIuMiwzLTMuM2MxLjctMS44LDMuNC0zLjcsNS4zLTUuN2MxNi42LTE5LjksMjQuNC00Ni43LDIxLjYtNzMuN2MtMi44LTI2LjktMTYtNTEuMy0zNi4yLTY2LjljLTcuMi01LjYtOC41LTE1LjktMy0yMy4xCgkJCQljNS42LTcuMiwxNS45LTguNSwyMy4xLTNjMjcuMywyMS4xLDQ1LjEsNTMuNyw0OC44LDg5LjZjMy44LDM2LjEtNyw3Mi4yLTI5LjYsOTlsLTAuNCwwLjVsLTAuNSwwLjVjLTEuNiwxLjYtMy4xLDMuMi00LjcsNQoJCQkJYy0xLjgsMi0zLjcsNC4xLTUuOSw2LjNsLTEuOSwxLjlsLTIuNCwxLjJjMCwwLDAsMC0wLjEsMGMtMS40LDEuNy0zLjUsMy44LTYuOSw1LjJDMzk5LjcsMzEzLjgsMzk3LjUsMzE0LjIsMzk1LjIsMzE0LjJ6Ii8+CgkJPC9nPgoJCTxnPgoJCQk8cGF0aCBjbGFzcz0ncG9lbS1tdXRlLXdhdmUnCgkJCQlkPSJNNDM4LjYsMzU2LjJjLTYuMywwLTEyLjQtMy43LTE1LjEtOS44Yy0yLjktNi42LTEuMS0xNC4xLDMuOS0xOC44YzAuNS0wLjcsMS4yLTEuNiwyLjEtMi40YzMtMyw1LjktNC44LDguMy02LjIKCQkJCWMxLjgtMS45LDMuNi0zLjgsNS40LTUuOWMyLjQtMi43LDQuOS01LjUsNy44LTguNGMyNS43LTMwLjcsMzcuOS03Mi4xLDMzLjUtMTEzLjhjLTQuNC00MS41LTI0LjgtNzkuMS01NS45LTEwMy4yCgkJCQljLTcuMi01LjYtOC41LTE1LjktMy0yMy4xYzUuNi03LjIsMTUuOS04LjUsMjMuMS0zYzM4LjIsMjkuNiw2My4yLDc1LjQsNjguNiwxMjUuOGM1LjQsNTAuOC05LjgsMTAxLjUtNDEuNiwxMzkuMWwtMC40LDAuNQoJCQkJbC0wLjUsMC41Yy0yLjQsMi40LTQuNyw1LTcuMSw3LjZjLTIuNiwyLjktNS4yLDUuOC04LjMsOC45bC0xLjksMS45bC0yLjQsMS4yYy0wLjgsMC40LTEuNCwwLjctMS43LDAuOWMtMS4zLDEuOS0zLjgsNC44LTguMSw2LjYKCQkJCUM0NDMsMzU1LjcsNDQwLjgsMzU2LjIsNDM4LjYsMzU2LjJ6Ii8+CgkJPC9nPgoJCTxnPgoJCQk8cGF0aCBjbGFzcz0ncG9lbS1tdXRlLXdhdmUnCgkJCQlkPSJNNDgzLjYsMzk1LjZjLTYuMywwLTEyLjQtMy43LTE1LjEtOS44Yy0zLTYuNy0xLjEtMTQuNCw0LjItMTljMC42LTAuOSwxLjQtMS45LDIuNS0yLjljMy43LTMuNyw3LjMtNS45LDEwLjMtNy41CgkJCQljMi42LTIuNyw1LTUuNCw3LjYtOC4zYzMuMi0zLjUsNi40LTcuMSwxMC4xLTEwLjhjMzQuMy00MC44LDUwLjYtOTYsNDQuOC0xNTEuNmMtNS44LTU1LjItMzMtMTA1LjItNzQuNS0xMzcuMwoJCQkJYy03LjItNS42LTguNS0xNS45LTMtMjMuMWM1LjYtNy4yLDE1LjktOC41LDIzLjEtM2M0OC42LDM3LjYsODAuMyw5NS45LDg3LjEsMTYwYzYuOCw2NC43LTEyLjQsMTI5LjEtNTIuOCwxNzYuOWwtMC40LDAuNQoJCQkJbC0wLjUsMC41Yy0zLjMsMy4zLTYuMiw2LjYtOS40LDEwLjFjLTMuMywzLjctNi43LDcuNS0xMC42LDExLjNsLTEuOSwxLjlsLTIuNCwxLjJjLTEuOCwwLjktMi44LDEuNC0zLjYsMgoJCQkJYy0xLjMsMi0zLjksNS41LTguOSw3LjdDNDg4LjEsMzk1LjIsNDg1LjgsMzk1LjYsNDgzLjYsMzk1LjZ6Ii8+CgkJPC9nPgoJPC9nPgoJPC9zdmc+CjwvYT4=","base64"),_css=Buffer("LnBvZW0tbXV0ZS1zdmcgewogICAgZmlsbDogI2ZmZjsKCW9wYWNpdHk6MC44Owp9Ci5wb2VtLW11dGUtbXV0ZWQgLnBvZW0tbXV0ZS13YXZlIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KLnBvZW0tbXV0ZS11bm11dGVkIC5wb2VtLW11dGUteCB7CiAgICBkaXNwbGF5OiBub25lOwp9Ci5wb2VtLW11dGUteCB7CiAgICBmaWxsOiByZWQ7Cn0KLnBvZW0tbXV0ZS1zdmc6aG92ZXIgewogICAgb3BhY2l0eToxOwp9","base64"),_cssInserted=!1;module.exports=function(L){var M=createElement(_html,"poem-mute"),j=ClassList(M);_cssInserted||(insertCss(_css),_cssInserted=!0);var u=function(){L.muted()?(j.remove("poem-mute-unmuted"),j.add("poem-mute-muted")):(j.remove("poem-mute-muted"),j.add("poem-mute-unmuted"))};return L.emitter.on("change",u),u(),M.addEventListener("click",function(M){L.toggle(),u(),M.preventDefault(),M.stopImmediatePropagation()},!0),M};

}).call(this)}).call(this,require("buffer").Buffer)

},{"buffer":41,"class-list":42,"insert-css":50}],103:[function(require,module,exports){
!function(i){function t(i,t,n,e,s){this._listener=t,this._isOnce=n,this.context=e,this._signal=i,this._priority=s||0}function n(i,t){if("function"!=typeof i)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function e(){this._bindings=[],this._prevParams=null;var i=this;this.dispatch=function(){e.prototype.dispatch.apply(i,arguments)}}t.prototype={active:!0,params:null,execute:function(i){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(i):i,t=this._listener.apply(this.context,n),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},e.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(i,n,e,s){var r,o=this._indexOfListener(i,e);if(-1!==o){if(r=this._bindings[o],r.isOnce()!==n)throw new Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else r=new t(this,i,n,e,s),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(i){var t=this._bindings.length;do{--t}while(this._bindings[t]&&i._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,i)},_indexOfListener:function(i,t){for(var n,e=this._bindings.length;e--;)if(n=this._bindings[e],n._listener===i&&n.context===t)return e;return-1},has:function(i,t){return-1!==this._indexOfListener(i,t)},add:function(i,t,e){return n(i,"add"),this._registerListener(i,!1,t,e)},addOnce:function(i,t,e){return n(i,"addOnce"),this._registerListener(i,!0,t,e)},remove:function(i,t){n(i,"remove");var e=this._indexOfListener(i,t);return-1!==e&&(this._bindings[e]._destroy(),this._bindings.splice(e,1)),i},removeAll:function(){for(var i=this._bindings.length;i--;)this._bindings[i]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(i){if(this.active){var t,n=Array.prototype.slice.call(arguments),e=this._bindings.length;if(this.memorize&&(this._prevParams=n),e){t=this._bindings.slice(),this._shouldPropagate=!0;do{e--}while(t[e]&&this._shouldPropagate&&!1!==t[e].execute(n))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var s=e;s.Signal=e,"function"==typeof define&&define.amd?define(function(){return s}):"undefined"!=typeof module&&module.exports?module.exports=s:i.signals=s}(this);

},{}],104:[function(require,module,exports){
var createTypes=require("./types");module.exports=function(r){var e=createTypes(r);return function(r,t){t=t||{},"string"==typeof t.colors&&(t.colors=[t.colors]);var o=e(r.uniforms,t.colors),s=e(r.attributes,t.colors);for(var a in s)s[a].value=[];return{vertexShader:r.vertex,fragmentShader:r.fragment,uniforms:o,attributes:s}}};

},{"./types":105}],105:[function(require,module,exports){
function create(e){function r(r,t){switch(r){case"float":case"int":return 0;case"vec2":case"ivec2":return new e.Vector2;case"vec3":case"ivec3":return new e.Vector3;case"vec4":case"ivec4":return new e.Vector4;case"mat4":return new e.Matrix4;case"mat3":return new e.Matrix3;case"samplerCube":case"sampler2D":return new e.Texture;default:return}}function t(e,t,n){if(t){"ivec3"===e&&(n*=3);for(var a=new Array(n),c=0;c<a.length;c++)a[c]=r(e,t);return a}return r(e)}function n(e,r){return r?"int"===e?"iv1":"float"===e?"fv1":typeMap[e]+"v":typeMap[e]}return function(r,a){Array.isArray(a)||(a=Array.prototype.slice.call(arguments,1));var c={},o={};r.forEach(function(r){var i=r.name,u=/(.+)\[[0-9]+\]/.exec(i);if(a&&-1!==a.indexOf(i)){if(u)throw new Error("array of color uniforms not supported");if("vec3"!==r.type)throw new Error("ThreeJS expects vec3 for Color uniforms");return void(c[i]={type:"c",value:new e.Color})}u&&(i=u[1],i in o?o[i].count++:o[i]={count:1,type:r.type}),c[i]={type:n(r.type,u),value:u?null:t(r.type)}});for(var i in c){var u=c[i];if(i in o){var v=o[i];u.value=t(v.type,!0,v.count)}}return c}}var typeMap={int:"i",float:"f",ivec2:"i2",ivec3:"i3",ivec4:"i4",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"m4",mat3:"m3",sampler2D:"t",samplerCube:"t"};module.exports=create;

},{}]},{},[15])
//# sourceMappingURL=bundle.js.map
